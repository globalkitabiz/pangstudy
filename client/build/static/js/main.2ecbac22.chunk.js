(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,r){e.exports=r(35)},26:function(e,t,r){},28:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(18),i=r.n(o),c=r(40),d=(r(26),r(4)),l=r(5),s=r(7),u=r(6),p=r(8),m=r(42),g=r(38),b=r(39),f=(r(28),r(2)),x=r.n(f),h=r(9),y=r(12),k="";function v(e){return E.apply(this,arguments)}function E(){return(E=Object(h.a)(x.a.mark(function e(t){var r,a,n,o,i,c=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},a=localStorage.getItem("authToken"),n=Object(y.a)({"Content-Type":"application/json"},r.headers),a&&(n.Authorization="Bearer ".concat(a)),e.next=6,fetch("".concat(k).concat(t),Object(y.a)({},r,{headers:n}));case 6:if((o=e.sent).ok){e.next=12;break}return e.next=10,o.json();case 10:throw i=e.sent,new Error(i.error||"API request failed");case 12:return e.abrupt("return",o.json());case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var w={register:function(e,t,r){return v("/api/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,username:r})})},login:function(e,t){return v("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user")},saveToken:function(e,t){localStorage.setItem("authToken",e),localStorage.setItem("user",JSON.stringify(t))},getUser:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}},S={getAll:function(){return v("/api/decks")},create:function(e,t){return v("/api/decks",{method:"POST",body:JSON.stringify({name:e,description:t})})},delete:function(e){return v("/api/decks/".concat(e),{method:"DELETE"})}},C={getByDeck:function(e){return v("/api/cards/".concat(e))},create:function(e,t,r,a,n){return v("/api/cards/".concat(e),{method:"POST",body:JSON.stringify({front:t,back:r,media_front:a,media_back:n})})},delete:function(e){return v("/api/cards/".concat(e),{method:"DELETE"})}},O=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",loading:!0}),e.prev=2,e.next=5,w.login(r.state.email,r.state.password);case 5:a=e.sent,w.saveToken(a.token,a.user),r.props.onLoginSuccess&&r.props.onLoginSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState({error:e.t0.message||"\ub85c\uadf8\uc778 \uc2e4\ud328"});case 13:return e.prev=13,r.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),r.state={email:"",password:"",error:"",loading:!1},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.email,a=t.password,o=t.error,i=t.loading,c=this.props.onSwitchToRegister;return n.a.createElement("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff"}},n.a.createElement("h2",{style:{textAlign:"center",marginBottom:"20px"}},"\ub85c\uadf8\uc778"),o&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},o),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc774\uba54\uc77c"),n.a.createElement("input",{type:"email",value:r,onChange:function(t){return e.setState({email:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ube44\ubc00\ubc88\ud638"),n.a.createElement("input",{type:"password",value:a,onChange:function(t){return e.setState({password:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",disabled:i,style:{width:"100%",padding:"10px",backgroundColor:i?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:"4px",fontSize:"16px",cursor:i?"not-allowed":"pointer"}},i?"\ub85c\ub529 \uc911...":"\ub85c\uadf8\uc778\ud558\uae30")),n.a.createElement("div",{style:{textAlign:"center",marginTop:"15px"}},n.a.createElement("small",null,"\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694?"," ",n.a.createElement("button",{onClick:c,style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"inherit"}},"\ud68c\uc6d0\uac00\uc785"))))}}]),t}(a.Component),j=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",loading:!0}),e.prev=2,e.next=5,w.register(r.state.email,r.state.password,r.state.username);case 5:a=e.sent,w.saveToken(a.token,a.user),r.props.onRegisterSuccess&&r.props.onRegisterSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState({error:e.t0.message||"\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328"});case 13:return e.prev=13,r.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,10,13,16]])}));return function(t){return e.apply(this,arguments)}}(),r.state={email:"",password:"",username:"",error:"",loading:!1},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.email,a=t.password,o=t.username,i=t.error,c=t.loading,d=this.props.onSwitchToLogin;return n.a.createElement("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff"}},n.a.createElement("h2",{style:{textAlign:"center",marginBottom:"20px"}},"\ud68c\uc6d0\uac00\uc785"),i&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},i),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc774\uba54\uc77c"),n.a.createElement("input",{type:"email",value:r,onChange:function(t){return e.setState({email:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc0ac\uc6a9\uc790 \uc774\ub984"),n.a.createElement("input",{type:"text",value:o,onChange:function(t){return e.setState({username:t.target.value})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ube44\ubc00\ubc88\ud638"),n.a.createElement("input",{type:"password",value:a,onChange:function(t){return e.setState({password:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",disabled:c,style:{width:"100%",padding:"10px",backgroundColor:c?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:"4px",fontSize:"16px",cursor:c?"not-allowed":"pointer"}},c?"\ub85c\ub529 \uc911...":"\uac00\uc785\ud558\uae30")),n.a.createElement("div",{style:{textAlign:"center",marginTop:"15px"}},n.a.createElement("small",null,"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"," ",n.a.createElement("button",{onClick:d,style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"inherit"}},"\ub85c\uadf8\uc778"))))}}]),t}(a.Component),R=r(37),B=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadDecks=Object(h.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.setState({loading:!0}),e.next=4,S.getAll();case 4:t=e.sent,r.setState({decks:t.decks||[],loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r.setState({error:e.t0.message,loading:!1});case 11:case"end":return e.stop()}},e,this,[[0,8]])})),r.handleCreateDeck=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=r.state.newDeckName).trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,S.create(a,"");case 7:r.setState({newDeckName:"",showCreateForm:!1}),r.loadDecks(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.setState({error:e.t0.message});case 14:case"end":return e.stop()}},e,this,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),r.handleLogout=function(){localStorage.clear(),window.location.href="/login"},r.state={decks:[],loading:!0,error:"",newDeckName:"",showCreateForm:!1},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadDecks()}},{key:"render",value:function(){var e=this,t=this.state,r=t.decks,a=t.loading,o=t.error,i=t.newDeckName,c=t.showCreateForm;return a?n.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},"\ub85c\ub529 \uc911..."):n.a.createElement("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},n.a.createElement("h2",null,"\ub0b4 \ub371"),n.a.createElement("button",{onClick:this.handleLogout,style:{padding:"8px 16px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub85c\uadf8\uc544\uc6c3")),o&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},o),n.a.createElement("div",{style:{marginBottom:"20px"}},c?n.a.createElement("div",{style:{padding:"15px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f9fa"}},n.a.createElement("form",{onSubmit:this.handleCreateDeck},n.a.createElement("input",{type:"text",placeholder:"\ub371 \uc774\ub984",value:i,onChange:function(t){return e.setState({newDeckName:t.target.value})},autoFocus:!0,style:{width:"100%",padding:"8px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub9cc\ub4e4\uae30"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showCreateForm:!1})},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c"))):n.a.createElement("button",{onClick:function(){return e.setState({showCreateForm:!0})},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"+ \uc0c8 \ub371 \ub9cc\ub4e4\uae30")),0===r.length?n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"}},"\ub371\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8 \ub371\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694!"):n.a.createElement("div",null,r.map(function(e){return n.a.createElement(R.a,{key:e.id,to:"/decks/".concat(e.id),style:{display:"block",padding:"15px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px",textDecoration:"none",color:"inherit",backgroundColor:"#fff"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement("div",null,n.a.createElement("h5",{style:{margin:"0 0 5px 0"}},e.name),e.description&&n.a.createElement("small",{style:{color:"#6c757d"}},e.description)),n.a.createElement("div",{style:{color:"#6c757d"}},n.a.createElement("small",null,e.card_count||0," \uce74\ub4dc"))))})))}}]),t}(a.Component),D=r(41),T=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadDeckAndCards=Object(h.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.deckId,e.prev=1,r.setState({loading:!0}),e.next=5,C.getByDeck(t);case 5:a=e.sent,r.setState({cards:a.cards||[],deck:{id:t,name:"\ub371 ".concat(t)},loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r.setState({error:e.t0.message,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,9]])})),r.handleAddCard=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.props.match.params.deckId,(n=r.state.newCard).front.trim()&&n.back.trim()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,C.create(a,n.front,n.back);case 8:r.setState({newCard:{front:"",back:""},showAddForm:!1}),r.loadDeckAndCards(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),r.setState({error:e.t0.message});case 15:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t){return e.apply(this,arguments)}}(),r.state={deck:null,cards:[],loading:!0,error:"",showAddForm:!1,newCard:{front:"",back:""}},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loadDeckAndCards()}},{key:"render",value:function(){var e=this,t=this.state,r=t.deck,a=t.cards,o=t.loading,i=t.error,c=t.showAddForm,d=t.newCard;return o?n.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},"\ub85c\ub529 \uc911..."):n.a.createElement("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px"}},n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement(R.a,{to:"/decks",style:{display:"inline-block",padding:"8px 16px",marginBottom:"15px",backgroundColor:"#6c757d",color:"#fff",textDecoration:"none",borderRadius:"4px"}},"\u2190 \ub371 \ubaa9\ub85d\uc73c\ub85c"),n.a.createElement("h2",null,r&&r.name)),i&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},i),n.a.createElement("div",{style:{marginBottom:"20px"}},c?n.a.createElement("div",{style:{padding:"15px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f9fa"}},n.a.createElement("h5",null,"\uc0c8 \uce74\ub4dc \ucd94\uac00"),n.a.createElement("form",{onSubmit:this.handleAddCard},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc55e\uba74 (\uc9c8\ubb38)"),n.a.createElement("textarea",{rows:3,placeholder:"\uc608: Hello",value:d.front,onChange:function(t){return e.setState({newCard:Object(y.a)({},d,{front:t.target.value})})},autoFocus:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ub4b7\uba74 (\ub2f5\ubcc0)"),n.a.createElement("textarea",{rows:3,placeholder:"\uc608: \uc548\ub155\ud558\uc138\uc694",value:d.back,onChange:function(t){return e.setState({newCard:Object(y.a)({},d,{back:t.target.value})})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucd94\uac00"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showAddForm:!1})},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c"))):n.a.createElement("button",{onClick:function(){return e.setState({showAddForm:!0})},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"+ \uce74\ub4dc \ucd94\uac00")),n.a.createElement("h4",{style:{marginBottom:"15px"}},"\uce74\ub4dc \ubaa9\ub85d (",a.length,")"),0===a.length?n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"}},"\uce74\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uce74\ub4dc\ub97c \ucd94\uac00\ud574\ubcf4\uc138\uc694!"):n.a.createElement("div",null,a.map(function(e){return n.a.createElement("div",{key:e.id,style:{padding:"15px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff"}},n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},n.a.createElement("div",null,n.a.createElement("strong",null,"\uc55e\uba74:"),n.a.createElement("p",{style:{margin:"5px 0 0 0"}},e.front)),n.a.createElement("div",null,n.a.createElement("strong",null,"\ub4b7\uba74:"),n.a.createElement("p",{style:{margin:"5px 0 0 0"}},e.back))))})))}}]),t}(a.Component),A=Object(D.a)(T),I=function(e){function t(){return Object(d.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Layout"},n.a.createElement("p",null,"Inspired by Anki"),this.props.children)}}]),t}(a.Component),L=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleLoginSuccess=function(){r.setState({user:w.getUser()})},r.state={user:w.getUser(),showRegister:!1},r}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.user,a=t.showRegister;return n.a.createElement(I,null,n.a.createElement("h1",null,"Pangstudy - \ud50c\ub798\uc2dc\uce74\ub4dc \ud559\uc2b5"),n.a.createElement(m.a,null,n.a.createElement(g.a,{exact:!0,path:"/login"},r?n.a.createElement(b.a,{to:"/decks"}):a?n.a.createElement(j,{onSwitchToLogin:function(){return e.setState({showRegister:!1})}}):n.a.createElement(O,{onSwitchToRegister:function(){return e.setState({showRegister:!0})},onLoginSuccess:this.handleLoginSuccess})),n.a.createElement(g.a,{exact:!0,path:"/register"},r?n.a.createElement(b.a,{to:"/decks"}):n.a.createElement(j,{onSwitchToLogin:function(){return e.setState({showRegister:!1})},onRegisterSuccess:this.handleLoginSuccess})),n.a.createElement(g.a,{exact:!0,path:"/decks"},r?n.a.createElement(B,null):n.a.createElement(b.a,{to:"/login"})),n.a.createElement(g.a,{path:"/decks/:deckId"},r?n.a.createElement(A,null):n.a.createElement(b.a,{to:"/login"})),n.a.createElement(g.a,{exact:!0,path:"/"},n.a.createElement(b.a,{to:r?"/decks":"/login"}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(c.a,null,n.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.2ecbac22.chunk.js.map