(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(54),c=r.n(o),i=r(173),d=(r(64),r(4)),s=r(5),l=r(7),u=r(6),p=r(8),m=r(175),f=r(171),g=r(172),b=(r(66),r(2)),x=r.n(b),h=r(3),k=r(11),y=function(){return localStorage.getItem("authToken")},v=function(){var e=Object(h.a)(x.a.mark(function e(t){var r,a,n,o,c,i=arguments;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},a=y(),n=Object(k.a)({"Content-Type":"application/json"},a&&{Authorization:"Bearer ".concat(a)},r.headers),e.next=5,fetch("".concat("").concat(t),Object(k.a)({},r,{headers:n}));case 5:if((o=e.sent).ok){e.next=11;break}return e.next=9,o.json();case 9:throw c=e.sent,new Error(c.error||"API request failed");case 11:return e.abrupt("return",o.json());case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),E={register:function(e,t,r){return v("/api/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,username:r})})},login:function(e,t){return v("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})},logout:function(){localStorage.removeItem("authToken"),localStorage.removeItem("user")},saveToken:function(e,t){localStorage.setItem("authToken",e),localStorage.setItem("user",JSON.stringify(t))},getUser:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}},S={getAll:function(){return v("/api/decks")},get:function(e){return v("/api/decks/".concat(e))},create:function(e,t){return v("/api/decks",{method:"POST",body:JSON.stringify({name:e,description:t})})},delete:function(e){return v("/api/decks/".concat(e),{method:"DELETE"})}},w={create:function(e,t,r){return v("/api/cards",{method:"POST",body:JSON.stringify({deckId:e,front:t,back:r})})},getByDeck:function(e){return v("/api/decks/".concat(e,"/cards"))},delete:function(e){return v("/api/cards/".concat(e),{method:"DELETE"})},update:function(e,t,r){return v("/api/cards/".concat(e),{method:"PUT",body:JSON.stringify({front:t,back:r})})},bulkCreate:function(e,t){return v("/api/cards/bulk",{method:"POST",body:JSON.stringify({deckId:e,cards:t})})}},C={getDueCards:function(e){return v("/api/study/".concat(e,"/due"))},submitReview:function(e,t){return v("/api/study/review",{method:"POST",body:JSON.stringify({cardId:e,difficulty:t})})}},D={shareDeck:function(e){return v("/api/decks/".concat(e,"/share"),{method:"POST"})},getSharedDeck:function(e){return v("/api/shared/".concat(e))},importSharedDeck:function(e){return v("/api/shared/".concat(e,"/import"),{method:"POST"})}},O=function(e){var t=e.message||e.toString();return t.includes("Email already exists")||t.includes("UNIQUE constraint")?"\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4. \ub2e4\ub978 \uc774\uba54\uc77c\uc744 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694.":t.includes("Invalid credentials")||t.includes("Unauthorized")?"\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":t.includes("401")?"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.":t.includes("password")&&t.includes("short")?"\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.":t.includes("Failed to fetch")||t.includes("Network")?"\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.":t.includes("404")||t.includes("not found")?"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":t.includes("500")||t.includes("Internal server error")?"\uc11c\ubc84 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.":t.includes("Deck not found")?"\ub371\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":t.includes("Card not found")?"\uce74\ub4dc\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":t.includes("Invalid share token")?"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uacf5\uc720 \ub9c1\ud06c\uc785\ub2c8\ub2e4.":t||"\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."},R=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",loading:!0}),e.prev=2,e.next=5,E.login(r.state.email,r.state.password);case 5:a=e.sent,E.saveToken(a.token,a.user),r.props.onLoginSuccess&&r.props.onLoginSuccess(),window.location.href="/decks",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r.setState({error:O(e.t0)});case 14:return e.prev=14,r.setState({loading:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),r.state={email:"",password:"",error:"",loading:!1},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.email,a=t.password,o=t.error,c=t.loading,i=this.props.onSwitchToRegister;return n.a.createElement("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff"}},n.a.createElement("h2",{style:{textAlign:"center",marginBottom:"20px"}},"\ub85c\uadf8\uc778"),o&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},o),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc774\uba54\uc77c"),n.a.createElement("input",{type:"email",value:r,onChange:function(t){return e.setState({email:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ube44\ubc00\ubc88\ud638"),n.a.createElement("input",{type:"password",value:a,onChange:function(t){return e.setState({password:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",disabled:c,style:{width:"100%",padding:"10px",backgroundColor:c?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:"4px",fontSize:"16px",cursor:c?"not-allowed":"pointer"}},c?"\ub85c\ub529 \uc911...":"\ub85c\uadf8\uc778\ud558\uae30")),n.a.createElement("div",{style:{textAlign:"center",marginTop:"15px"}},n.a.createElement("small",null,"\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694?"," ",n.a.createElement("button",{onClick:i,style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"inherit"}},"\ud68c\uc6d0\uac00\uc785"))))}}]),t}(a.Component),j=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r.setState({error:"",loading:!0}),e.prev=2,e.next=5,E.register(r.state.email,r.state.password,r.state.username);case 5:a=e.sent,E.saveToken(a.token,a.user),r.props.onRegisterSuccess&&r.props.onRegisterSuccess(),window.location.href="/decks",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r.setState({error:O(e.t0)});case 14:return e.prev=14,r.setState({loading:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[2,11,14,17]])}));return function(t){return e.apply(this,arguments)}}(),r.state={email:"",password:"",username:"",error:"",loading:!1},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.email,a=t.password,o=t.username,c=t.error,i=t.loading,d=this.props.onSwitchToLogin;return n.a.createElement("div",{style:{maxWidth:"400px",margin:"50px auto",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff"}},n.a.createElement("h2",{style:{textAlign:"center",marginBottom:"20px"}},"\ud68c\uc6d0\uac00\uc785"),c&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},c),n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc774\uba54\uc77c"),n.a.createElement("input",{type:"email",value:r,onChange:function(t){return e.setState({email:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc0ac\uc6a9\uc790 \uc774\ub984"),n.a.createElement("input",{type:"text",value:o,onChange:function(t){return e.setState({username:t.target.value})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ube44\ubc00\ubc88\ud638"),n.a.createElement("input",{type:"password",value:a,onChange:function(t){return e.setState({password:t.target.value})},required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",disabled:i,style:{width:"100%",padding:"10px",backgroundColor:i?"#ccc":"#007bff",color:"#fff",border:"none",borderRadius:"4px",fontSize:"16px",cursor:i?"not-allowed":"pointer"}},i?"\ub85c\ub529 \uc911...":"\uac00\uc785\ud558\uae30")),n.a.createElement("div",{style:{textAlign:"center",marginTop:"15px"}},n.a.createElement("small",null,"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"," ",n.a.createElement("button",{onClick:d,style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",padding:0,fontSize:"inherit"}},"\ub85c\uadf8\uc778"))))}}]),t}(a.Component),B=r(57),T=r(170),A=r(55),I=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.weeklyData;if(!e||0===e.length)return n.a.createElement("div",{style:{padding:"20px",textAlign:"center",color:"#6c757d"}},"\ud559\uc2b5 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");var t={labels:e.map(function(e){return e.date}),datasets:[{label:"\ud559\uc2b5\ud55c \uce74\ub4dc \uc218",data:e.map(function(e){return e.count}),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",fill:!0}]};return n.a.createElement("div",{style:{padding:"20px",backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #ddd",marginTop:"20px"}},n.a.createElement(A.Line,{data:t,options:{responsive:!0,legend:{position:"top"},title:{display:!0,text:"\uc8fc\uac04 \ud559\uc2b5 \uc9c4\ud589\ub960"},scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]}}}))}}]),t}(a.Component),z=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).loadStats=Object(h.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/stats",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to load stats");case 6:return e.next=8,t.json();case 8:a=e.sent,r.setState({stats:a,loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r.setState({error:e.t0.message,loading:!1});case 15:case"end":return e.stop()}},e,this,[[0,12]])})),r.loadWeeklyData=Object(h.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/stats/weekly",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("Failed to load weekly data");case 6:return e.next=8,t.json();case 8:a=e.sent,r.setState({weeklyData:a.weeklyData}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("\uc8fc\uac04 \ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328:",e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])})),r.state={stats:null,weeklyData:[],loading:!0,error:""},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadStats(),this.loadWeeklyData()}},{key:"render",value:function(){var e=this.state,t=e.stats,r=e.weeklyData,a=e.loading,o=e.error;return a?n.a.createElement("div",null,"\ub85c\ub529 \uc911..."):o?n.a.createElement("div",null,"\uc624\ub958: ",o):t?n.a.createElement("div",{style:{padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",marginBottom:"20px"}},n.a.createElement("h3",{style:{marginBottom:"15px"}},n.a.createElement("span",{role:"img","aria-label":"\ud1b5\uacc4"},"\ud83d\udcca")," \ud559\uc2b5 \ud1b5\uacc4"),n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"15px"}},n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#fff",borderRadius:"4px",textAlign:"center"}},n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#007bff"}},t.deckCount),n.a.createElement("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"}},"\ucd1d \ub371")),n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#fff",borderRadius:"4px",textAlign:"center"}},n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"}},t.cardCount),n.a.createElement("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"}},"\ucd1d \uce74\ub4dc")),n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#fff",borderRadius:"4px",textAlign:"center"}},n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ffc107"}},t.todayReviews),n.a.createElement("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"}},"\uc624\ub298 \ud559\uc2b5")),n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#fff",borderRadius:"4px",textAlign:"center"}},n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#dc3545"}},t.dueCards),n.a.createElement("div",{style:{fontSize:"14px",color:"#6c757d",marginTop:"5px"}},"\ud559\uc2b5 \ub300\uae30"))),n.a.createElement(I,{weeklyData:r})):null}}]),t}(a.Component),W=function(e){var t=e.message,r=void 0===t?"\ub85c\ub529 \uc911...":t,a=e.size,o={small:{spinner:24,fontSize:12},medium:{spinner:40,fontSize:14},large:{spinner:60,fontSize:16}},c=o[void 0===a?"medium":a]||o.medium;return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",textAlign:"center"}},n.a.createElement("div",{style:{width:"".concat(c.spinner,"px"),height:"".concat(c.spinner,"px"),border:"4px solid #f3f3f3",borderTop:"4px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r&&n.a.createElement("p",{style:{marginTop:"15px",color:"#6c757d",fontSize:"".concat(c.fontSize,"px")}},r),n.a.createElement("style",null,"\n                @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n            "))},F={background:"#ffffff",backgroundSecondary:"#f8f9fa",text:"#212529",textSecondary:"#6c757d",primary:"#007bff",success:"#28a745",danger:"#dc3545",warning:"#ffc107",info:"#17a2b8",border:"#dee2e6",borderLight:"#e9ecef",cardBackground:"#ffffff",cardBorder:"#ddd",inputBackground:"#ffffff",inputBorder:"#ddd",buttonPrimary:"#007bff",buttonSecondary:"#6c757d",buttonSuccess:"#28a745",buttonDanger:"#dc3545",alertInfo:{bg:"#d1ecf1",text:"#0c5460",border:"#bee5eb"},alertSuccess:{bg:"#d4edda",text:"#155724",border:"#c3e6cb"},alertDanger:{bg:"#f8d7da",text:"#721c24",border:"#f5c6cb"},alertWarning:{bg:"#fff3cd",text:"#856404",border:"#ffeaa7"}},L={background:"#1a1a1a",backgroundSecondary:"#2d2d2d",text:"#e9ecef",textSecondary:"#adb5bd",primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",border:"#495057",borderLight:"#343a40",cardBackground:"#2d2d2d",cardBorder:"#495057",inputBackground:"#343a40",inputBorder:"#495057",buttonPrimary:"#0d6efd",buttonSecondary:"#6c757d",buttonSuccess:"#198754",buttonDanger:"#dc3545",alertInfo:{bg:"#0c5460",text:"#d1ecf1",border:"#0c5460"},alertSuccess:{bg:"#155724",text:"#d4edda",border:"#155724"},alertDanger:{bg:"#721c24",text:"#f8d7da",border:"#721c24"},alertWarning:{bg:"#856404",text:"#fff3cd",border:"#856404"}},N=n.a.createContext(),P=function(e){function t(e){var r;Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleTheme=function(){var e="light"===r.state.theme?"dark":"light",t="dark"===e?L:F;r.setState({theme:e,colors:t}),localStorage.setItem("theme",e)};var a=localStorage.getItem("theme")||"light";return r.state={theme:a,colors:"dark"===a?L:F},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(N.Provider,{value:{theme:this.state.theme,colors:this.state.colors,toggleTheme:this.toggleTheme}},this.props.children)}}]),t}(a.Component),U=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(N.Consumer,null,function(e){var t=e.theme,r=e.toggleTheme,a=e.colors;return n.a.createElement("button",{onClick:r,style:{padding:"8px 16px",backgroundColor:a.backgroundSecondary,color:a.text,border:"1px solid ".concat(a.border),borderRadius:"4px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"5px"},title:"light"===t?"\ub2e4\ud06c \ubaa8\ub4dc\ub85c \uc804\ud658":"\ub77c\uc774\ud2b8 \ubaa8\ub4dc\ub85c \uc804\ud658"},"light"===t?"\ud83c\udf19":"\u2600\ufe0f","light"===t?"\ub2e4\ud06c":"\ub77c\uc774\ud2b8")})}}]),t}(a.Component),J=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).loadDecks=Object(h.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getAll();case 3:t=e.sent,r.setState({decks:t.decks,loading:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.setState({error:e.t0.message,loading:!1});case 10:case"end":return e.stop()}},e,this,[[0,7]])})),r.handleLogout=function(){localStorage.clear(),window.location.href="/login"},r.handleCreateDeck=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=r.state.newDeckName).trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,S.create(a,"");case 7:r.setState({newDeckName:"",showCreateForm:!1,success:"\ub371\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),r.loadDecks(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),r.setState({error:e.t0.message});case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}(),r.handleImportDeck=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=r.state.shareToken).trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,D.importSharedDeck(a);case 7:n=e.sent,r.setState({shareToken:"",showImportForm:!1,success:n.message||"\ub371\uc744 \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4!"}),r.loadDecks(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),r.setState({error:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[4,13]])}));return function(t){return e.apply(this,arguments)}}(),r.handleAnkiImport=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n,o,c,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.state.ankiFile){e.next=5;break}return r.setState({error:"Anki \ud30c\uc77c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),e.abrupt("return");case 5:return r.setState({ankiImporting:!0,error:""}),e.prev=6,(n=new FormData).append("file",a),o=localStorage.getItem("authToken"),"",e.next=13,fetch("".concat("","/api/anki/import"),{method:"POST",headers:{Authorization:"Bearer ".concat(o)},body:n});case 13:return c=e.sent,e.next=16,c.json();case 16:if(i=e.sent,c.ok){e.next=19;break}throw new Error(i.error||"Anki \ud30c\uc77c \uac00\uc838\uc624\uae30 \uc2e4\ud328");case 19:r.setState({ankiFile:null,showAnkiImport:!1,ankiImporting:!1,success:i.message||"".concat(i.deckName," \ub371\uc744 \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4! (").concat(i.cardCount,"\uc7a5)")}),r.loadDecks(),setTimeout(function(){return r.setState({success:""})},5e3),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(6),r.setState({error:e.t0.message,ankiImporting:!1});case 27:case"end":return e.stop()}},e,this,[[6,24]])}));return function(t){return e.apply(this,arguments)}}(),r.openAnkiWeb=function(){window.open("https://ankiweb.net/shared/decks","_blank")},r.handleDeleteDeck=function(){var e=Object(h.a)(x.a.mark(function e(t,a,n){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),window.confirm('"'.concat(n,'" \ub371\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\ubaa8\ub4e0 \uce74\ub4dc\uc640 \ud559\uc2b5 \uae30\ub85d\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.'))){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,S.delete(a);case 7:r.setState({success:"\ub371\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),r.loadDecks(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),r.setState({error:e.t0.message});case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t,r,a){return e.apply(this,arguments)}}(),r.getFilteredAndSortedDecks=function(){var e=r.state,t=e.decks,a=e.searchQuery,n=e.sortBy,o=t;if(a.trim()){var c=a.toLowerCase();o=t.filter(function(e){return e.name.toLowerCase().includes(c)||e.description&&e.description.toLowerCase().includes(c)})}return Object(B.a)(o).sort(function(e,t){switch(n){case"name":return e.name.localeCompare(t.name);case"created":return new Date(t.created_at)-new Date(e.created_at);case"cards":return(t.card_count||0)-(e.card_count||0);default:return 0}})},r.state={decks:[],loading:!0,error:"",success:"",newDeckName:"",showCreateForm:!1,showImportForm:!1,showAnkiImport:!1,shareToken:"",ankiFile:null,ankiImporting:!1,searchQuery:"",sortBy:"created"},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadDecks()}},{key:"render",value:function(){var e=this,t=this.state,r=t.loading,a=t.error,o=t.success,c=t.newDeckName,i=t.showCreateForm,d=t.showImportForm,s=t.showAnkiImport,l=t.shareToken,u=t.searchQuery,p=t.sortBy,m=this.context.colors;if(r)return n.a.createElement(W,{message:"\ub371 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."});var f=this.getFilteredAndSortedDecks();return n.a.createElement("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px",backgroundColor:m.background,color:m.text,minHeight:"100vh"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},n.a.createElement("h2",{style:{color:m.text}},"\ub0b4 \ub371"),n.a.createElement("div",{style:{display:"flex",gap:"10px"}},n.a.createElement(U,null),n.a.createElement("button",{onClick:this.handleLogout,style:{padding:"8px 16px",backgroundColor:m.buttonDanger,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub85c\uadf8\uc544\uc6c3"))),a&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:m.alertDanger.bg,color:m.alertDanger.text,border:"1px solid ".concat(m.alertDanger.border),borderRadius:"4px"}},a),o&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:m.alertSuccess.bg,color:m.alertSuccess.text,border:"1px solid ".concat(m.alertSuccess.border),borderRadius:"4px"}},o),n.a.createElement(z,null),n.a.createElement("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",alignItems:"center"}},n.a.createElement("input",{type:"text",placeholder:"\ud83d\udd0d \ub371 \uac80\uc0c9 (\uc774\ub984 \ub610\ub294 \uc124\uba85)...",value:u,onChange:function(t){return e.setState({searchQuery:t.target.value})},style:{flex:1,padding:"10px",backgroundColor:m.inputBackground,color:m.text,border:"1px solid ".concat(m.inputBorder),borderRadius:"4px",fontSize:"14px"}}),n.a.createElement("select",{value:p,onChange:function(t){return e.setState({sortBy:t.target.value})},style:{padding:"10px",backgroundColor:m.inputBackground,color:m.text,border:"1px solid ".concat(m.inputBorder),borderRadius:"4px",fontSize:"14px",cursor:"pointer"}},n.a.createElement("option",{value:"created"},"\ucd5c\uc2e0\uc21c"),n.a.createElement("option",{value:"name"},"\uc774\ub984\uc21c"),n.a.createElement("option",{value:"cards"},"\uce74\ub4dc \uc218"))),n.a.createElement("div",{style:{marginBottom:"20px",display:"flex",gap:"10px",flexWrap:"wrap"}},!i&&!d&&!s&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){return e.setState({showCreateForm:!0})},style:{padding:"10px 20px",backgroundColor:m.buttonPrimary,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"+ \uc0c8 \ub371 \ub9cc\ub4e4\uae30"),n.a.createElement("button",{onClick:function(){return e.setState({showImportForm:!0})},style:{padding:"10px 20px",backgroundColor:m.buttonSuccess,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"\ubc1b\uae30"},"\ud83d\udce5")," \uacf5\uc720\ub41c \ub371 \ubc1b\uae30"),n.a.createElement("button",{onClick:function(){return e.setState({showAnkiImport:!0})},style:{padding:"10px 20px",backgroundColor:"#6f42c1",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"Anki"},"\ud83c\udccf")," Anki \ub371 \uac00\uc838\uc624\uae30")),i&&n.a.createElement("div",{style:{padding:"15px",border:"1px solid ".concat(m.border),borderRadius:"4px",backgroundColor:m.backgroundSecondary,flex:1}},n.a.createElement("h5",{style:{color:m.text}},"\uc0c8 \ub371 \ub9cc\ub4e4\uae30"),n.a.createElement("form",{onSubmit:this.handleCreateDeck},n.a.createElement("input",{type:"text",placeholder:"\ub371 \uc774\ub984",value:c,onChange:function(t){return e.setState({newDeckName:t.target.value})},autoFocus:!0,style:{width:"100%",padding:"8px",marginBottom:"10px",backgroundColor:m.inputBackground,color:m.text,border:"1px solid ".concat(m.inputBorder),borderRadius:"4px"}}),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:m.buttonPrimary,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub9cc\ub4e4\uae30"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showCreateForm:!1})},style:{padding:"8px 16px",backgroundColor:m.buttonSecondary,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c"))),d&&n.a.createElement("div",{style:{padding:"15px",border:"1px solid ".concat(m.border),borderRadius:"4px",backgroundColor:m.backgroundSecondary,flex:1}},n.a.createElement("h5",{style:{color:m.text}},"\uacf5\uc720\ub41c \ub371 \uac00\uc838\uc624\uae30"),n.a.createElement("form",{onSubmit:this.handleImportDeck},n.a.createElement("input",{type:"text",placeholder:"\uacf5\uc720 \ub9c1\ud06c \ub610\ub294 \ud1a0\ud070 \uc785\ub825",value:l,onChange:function(t){var r=t.target.value,a=r.match(/shared\/([a-zA-Z0-9]+)/);e.setState({shareToken:a?a[1]:r})},autoFocus:!0,style:{width:"100%",padding:"8px",marginBottom:"10px",backgroundColor:m.inputBackground,color:m.text,border:"1px solid ".concat(m.inputBorder),borderRadius:"4px"}}),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:m.buttonSuccess,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\uac00\uc838\uc624\uae30"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showImportForm:!1})},style:{padding:"8px 16px",backgroundColor:m.buttonSecondary,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c")))),0===f.length?n.a.createElement("div",{style:{padding:"15px",backgroundColor:m.alertInfo.bg,color:m.alertInfo.text,border:"1px solid ".concat(m.alertInfo.border),borderRadius:"4px"}},u?"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub371\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc0c8 \ub371\uc744 \ub9cc\ub4e4\uac70\ub098 \uacf5\uc720\ub41c \ub371\uc744 \uac00\uc838\uc640\ubcf4\uc138\uc694!"):n.a.createElement("div",null,f.map(function(t){return n.a.createElement("div",{key:t.id,style:{display:"flex",padding:"15px",marginBottom:"10px",border:"1px solid ".concat(m.cardBorder),borderRadius:"4px",backgroundColor:m.cardBackground,alignItems:"center"}},n.a.createElement(T.a,{to:"/decks/".concat(t.id),style:{flex:1,textDecoration:"none",color:m.text}},n.a.createElement("h4",{style:{margin:"0 0 5px 0",color:m.text}},t.name),n.a.createElement("p",{style:{margin:0,color:m.textSecondary,fontSize:"14px"}},"\uce74\ub4dc ",t.card_count||0,"\uac1c")),n.a.createElement("button",{onClick:function(r){return e.handleDeleteDeck(r,t.id,t.name)},style:{padding:"6px 12px",backgroundColor:m.buttonDanger,color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"}},"\uc0ad\uc81c"))})))}}]),t}(a.Component);J.contextType=N;var M=J,_=r(58),q=r(174),Q=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).loadDeckAndCards=Object(h.a)(x.a.mark(function e(){var t,a,n,o,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.deckId,e.prev=1,r.setState({loading:!0}),e.next=5,Promise.all([S.get(t),w.getByDeck(t)]);case 5:a=e.sent,n=Object(_.a)(a,2),o=n[0],c=n[1],r.setState({deck:o.deck,cards:c.cards||[],editDeckName:o.deck.name,editDeckDescription:o.deck.description||"",loading:!1}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.setState({error:e.t0.message,loading:!1});case 15:case"end":return e.stop()}},e,this,[[1,12]])})),r.handleAddCard=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.props.match.params.deckId,(n=r.state.newCard).front.trim()&&n.back.trim()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,w.create(a,n.front,n.back);case 8:r.setState({newCard:{front:"",back:""},showAddForm:!1,success:"\uce74\ub4dc\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),r.loadDeckAndCards(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r.setState({error:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),r.handleShareDeck=Object(h.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.deckId,e.prev=1,e.next=4,D.shareDeck(t);case 4:a=e.sent,r.setState({showShareModal:!0,shareUrl:a.shareUrl}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r.setState({error:e.t0.message});case 11:case"end":return e.stop()}},e,this,[[1,8]])})),r.handleCopyShareLink=function(){var e=r.state.shareUrl;navigator.clipboard.writeText(e).then(function(){r.setState({success:"\uacf5\uc720 \ub9c1\ud06c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),setTimeout(function(){return r.setState({success:""})},3e3)})},r.handleEditDeck=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n,o,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=r.props.match.params.deckId,n=r.state,o=n.editDeckName,c=n.editDeckDescription,o.trim()){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,S.update(a,o,c);case 8:r.setState({showEditDeck:!1,success:"\ub371\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),r.loadDeckAndCards(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),r.setState({error:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[5,13]])}));return function(t){return e.apply(this,arguments)}}(),r.handleDeleteCard=function(){var e=Object(h.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("\uc774 \uce74\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,w.delete(t);case 5:r.setState({success:"\uce74\ub4dc\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),r.loadDeckAndCards(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState({error:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),r.handleEditCard=function(e){r.setState({editingCard:Object(k.a)({},e),showAddForm:!1})},r.handleUpdateCard=function(){var e=Object(h.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=r.state.editingCard).front.trim()&&a.back.trim()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,w.update(a.id,a.front,a.back);case 7:r.setState({editingCard:null,success:"\uce74\ub4dc\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"}),r.loadDeckAndCards(),setTimeout(function(){return r.setState({success:""})},3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),r.setState({error:e.t0.message});case 15:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}(),r.state={deck:null,cards:[],loading:!0,error:"",success:"",showAddForm:!1,showShareModal:!1,showEditDeck:!1,editingCard:null,shareUrl:"",newCard:{front:"",back:""},editDeckName:"",editDeckDescription:""},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadDeckAndCards()}},{key:"render",value:function(){var e=this,t=this.state,r=t.deck,a=t.cards,o=t.loading,c=t.error,i=t.success,d=t.showAddForm,s=t.showShareModal,l=t.showEditDeck,u=t.editingCard,p=t.shareUrl,m=t.newCard,f=t.editDeckName,g=t.editDeckDescription;return o?n.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},"\ub85c\ub529 \uc911..."):n.a.createElement("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px"}},n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement(T.a,{to:"/decks",style:{display:"inline-block",padding:"8px 16px",marginBottom:"15px",backgroundColor:"#6c757d",color:"#fff",textDecoration:"none",borderRadius:"4px"}},"\u2190 \ub371 \ubaa9\ub85d\uc73c\ub85c"),l?n.a.createElement("form",{onSubmit:this.handleEditDeck,style:{padding:"15px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f9fa"}},n.a.createElement("h5",null,"\ub371 \uc218\uc815"),n.a.createElement("input",{type:"text",placeholder:"\ub371 \uc774\ub984",value:f,onChange:function(t){return e.setState({editDeckName:t.target.value})},style:{width:"100%",padding:"8px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),n.a.createElement("textarea",{placeholder:"\uc124\uba85 (\uc120\ud0dd)",value:g,onChange:function(t){return e.setState({editDeckDescription:t.target.value})},rows:2,style:{width:"100%",padding:"8px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px"}}),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\uc800\uc7a5"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showEditDeck:!1,editDeckName:r.name,editDeckDescription:r.description||""})},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c")):n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n.a.createElement("div",null,n.a.createElement("h2",{style:{margin:"0 0 5px 0"}},r&&r.name),r&&r.description&&n.a.createElement("p",{style:{color:"#6c757d",margin:0}},r.description)),n.a.createElement("div",{style:{display:"flex",gap:"10px"}},n.a.createElement("button",{onClick:function(){return e.props.history.push("/study/".concat(r.id))},style:{padding:"8px 16px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"\ucc45"},"\ud83d\udcda")," \ud559\uc2b5"),n.a.createElement("button",{onClick:function(){return e.setState({showEditDeck:!0})},style:{padding:"8px 16px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"\uc218\uc815"},"\u270f\ufe0f")),n.a.createElement("button",{onClick:this.handleShareDeck,style:{padding:"8px 16px",backgroundColor:"#17a2b8",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"\uacf5\uc720"},"\ud83d\udce4"))))),c&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},c),i&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#d4edda",color:"#155724",border:"1px solid #c3e6cb",borderRadius:"4px"}},i),s&&n.a.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},n.a.createElement("div",{style:{backgroundColor:"#fff",padding:"30px",borderRadius:"8px",maxWidth:"500px",width:"90%"}},n.a.createElement("h3",null,"\ub371 \uacf5\uc720 \ub9c1\ud06c"),n.a.createElement("p",null,"\uc774 \ub9c1\ud06c\ub97c \uacf5\uc720\ud558\uba74 \ub2e4\ub978 \uc0ac\ub78c\uc774 \uc774 \ub371\uc744 \uac00\uc838\uac08 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"),n.a.createElement("div",{style:{padding:"10px",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"15px",wordBreak:"break-all"}},p),n.a.createElement("div",{style:{display:"flex",gap:"10px"}},n.a.createElement("button",{onClick:this.handleCopyShareLink,style:{flex:1,padding:"10px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},n.a.createElement("span",{role:"img","aria-label":"\ubcf5\uc0ac"},"\ud83d\udccb")," \ub9c1\ud06c \ubcf5\uc0ac"),n.a.createElement("button",{onClick:function(){return e.setState({showShareModal:!1})},style:{flex:1,padding:"10px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ub2eb\uae30")))),n.a.createElement("div",{style:{marginBottom:"20px"}},d?n.a.createElement("div",{style:{padding:"15px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#f8f9fa"}},n.a.createElement("h5",null,"\uc0c8 \uce74\ub4dc \ucd94\uac00"),n.a.createElement("form",{onSubmit:this.handleAddCard},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc55e\uba74 (\uc9c8\ubb38)"),n.a.createElement("textarea",{rows:3,placeholder:"\uc608: Hello",value:m.front,onChange:function(t){return e.setState({newCard:Object(k.a)({},m,{front:t.target.value})})},autoFocus:!0,style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ub4b7\uba74 (\ub2f5\ubcc0)"),n.a.createElement("textarea",{rows:3,placeholder:"\uc608: \uc548\ub155\ud558\uc138\uc694",value:m.back,onChange:function(t){return e.setState({newCard:Object(k.a)({},m,{back:t.target.value})})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucd94\uac00"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({showAddForm:!1})},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c"))):n.a.createElement("button",{onClick:function(){return e.setState({showAddForm:!0})},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"+ \uce74\ub4dc \ucd94\uac00")),n.a.createElement("h4",{style:{marginBottom:"15px"}},"\uce74\ub4dc \ubaa9\ub85d (",a.length,")"),u&&n.a.createElement("div",{style:{padding:"15px",marginBottom:"20px",border:"1px solid #ffc107",borderRadius:"4px",backgroundColor:"#fff3cd"}},n.a.createElement("h5",null,"\uce74\ub4dc \uc218\uc815"),n.a.createElement("form",{onSubmit:this.handleUpdateCard},n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\uc55e\uba74"),n.a.createElement("textarea",{rows:3,value:u.front,onChange:function(t){return e.setState({editingCard:Object(k.a)({},u,{front:t.target.value})})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"}},"\ub4b7\uba74"),n.a.createElement("textarea",{rows:3,value:u.back,onChange:function(t){return e.setState({editingCard:Object(k.a)({},u,{back:t.target.value})})},style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}})),n.a.createElement("button",{type:"submit",style:{padding:"8px 16px",marginRight:"10px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\uc800\uc7a5"),n.a.createElement("button",{type:"button",onClick:function(){return e.setState({editingCard:null})},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"}},"\ucde8\uc18c"))),0===a.length?n.a.createElement("div",{style:{padding:"15px",backgroundColor:"#d1ecf1",color:"#0c5460",border:"1px solid #bee5eb",borderRadius:"4px"}},"\uce74\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uce74\ub4dc\ub97c \ucd94\uac00\ud574\ubcf4\uc138\uc694!"):n.a.createElement("div",null,a.map(function(t){return n.a.createElement("div",{key:t.id,style:{padding:"15px",marginBottom:"10px",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},n.a.createElement("div",{style:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},n.a.createElement("div",null,n.a.createElement("strong",null,"\uc55e\uba74:"),n.a.createElement("p",{style:{margin:"5px 0 0 0"}},t.front)),n.a.createElement("div",null,n.a.createElement("strong",null,"\ub4b7\uba74:"),n.a.createElement("p",{style:{margin:"5px 0 0 0"}},t.back))),n.a.createElement("div",{style:{display:"flex",gap:"5px",marginLeft:"10px"}},n.a.createElement("button",{onClick:function(){return e.handleEditCard(t)},style:{padding:"5px 10px",backgroundColor:"#ffc107",color:"#000",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"\uc218\uc815"},n.a.createElement("span",{role:"img","aria-label":"\uc218\uc815"},"\u270f\ufe0f")),n.a.createElement("button",{onClick:function(){return e.handleDeleteCard(t.id)},style:{padding:"5px 10px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},title:"\uc0ad\uc81c"},n.a.createElement("span",{role:"img","aria-label":"\uc0ad\uc81c"},"\ud83d\uddd1\ufe0f")))))})))}}]),t}(a.Component),H=Object(q.a)(Q),K=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).loadDueCards=Object(h.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params.deckId,e.prev=1,r.setState({loading:!0}),e.next=5,C.getDueCards(t);case 5:0===(a=e.sent).cards.length?r.setState({completed:!0,loading:!1}):r.setState({cards:a.cards,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r.setState({error:e.t0.message,loading:!1});case 12:case"end":return e.stop()}},e,this,[[1,9]])})),r.handleAnswer=function(){var e=Object(h.a)(x.a.mark(function e(t){var a,n,o,c,i;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state,n=a.cards,o=a.currentIndex,c=a.stats,i=n[o],e.prev=2,e.next=5,C.submitReview(i.id,t);case 5:c[["again","hard","good","easy"][t]]++,o+1<n.length?r.setState({currentIndex:o+1,showAnswer:!1,stats:c}):r.setState({completed:!0,stats:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.setState({error:e.t0.message});case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),r.handleKeyPress=function(e){var t=r.state,a=t.showAnswer;if(t.cards[t.currentIndex]){if("Space"===e.code&&!a)return e.preventDefault(),void r.setState({showAnswer:!0});if(a)switch(e.key){case"1":e.preventDefault(),r.handleAnswer(0);break;case"2":e.preventDefault(),r.handleAnswer(1);break;case"3":e.preventDefault(),r.handleAnswer(2);break;case"4":e.preventDefault(),r.handleAnswer(3)}}},r.state={cards:[],currentIndex:0,showAnswer:!1,loading:!0,error:"",completed:!1,stats:{again:0,hard:0,good:0,easy:0}},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadDueCards(),document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this,t=this.state,r=t.cards,a=t.currentIndex,o=t.showAnswer,c=t.loading,i=t.error,d=t.completed,s=t.stats,l=this.props.match.params.deckId;if(c)return n.a.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},"\ub85c\ub529 \uc911...");if(d)return n.a.createElement("div",{style:{maxWidth:"600px",margin:"50px auto",padding:"30px",textAlign:"center",border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#fff"}},n.a.createElement("h2",null,"\ud559\uc2b5 \uc644\ub8cc!"),n.a.createElement("p",{style:{fontSize:"18px",marginTop:"20px"}},"\uc624\ub298\uc758 \ud559\uc2b5\uc744 \ubaa8\ub450 \ub9c8\ucce4\uc2b5\ub2c8\ub2e4."),n.a.createElement("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"4px"}},n.a.createElement("h4",null,"\ud559\uc2b5 \ud1b5\uacc4"),n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginTop:"15px"}},n.a.createElement("div",null,n.a.createElement("strong",null,"\ub2e4\uc2dc:")," ",s.again),n.a.createElement("div",null,n.a.createElement("strong",null,"\uc5b4\ub824\uc6c0:")," ",s.hard),n.a.createElement("div",null,n.a.createElement("strong",null,"\ubcf4\ud1b5:")," ",s.good),n.a.createElement("div",null,n.a.createElement("strong",null,"\uc26c\uc6c0:")," ",s.easy)),n.a.createElement("div",{style:{marginTop:"15px",fontSize:"20px",fontWeight:"bold"}},"\ucd1d ",s.again+s.hard+s.good+s.easy,"\uac1c \uce74\ub4dc \ud559\uc2b5")),n.a.createElement("div",{style:{marginTop:"30px",display:"flex",gap:"10px",justifyContent:"center"}},n.a.createElement("button",{onClick:function(){return e.props.history.push("/decks/".concat(l))},style:{padding:"12px 24px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"}},"\ub371\uc73c\ub85c \ub3cc\uc544\uac00\uae30"),n.a.createElement("button",{onClick:function(){return e.props.history.push("/decks")},style:{padding:"12px 24px",backgroundColor:"#6c757d",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"}},"\ub371 \ubaa9\ub85d\uc73c\ub85c")));var u=r[a],p=(a+1)/r.length*100;return n.a.createElement("div",{style:{maxWidth:"600px",margin:"20px auto",padding:"20px"}},n.a.createElement("h2",null,"\ud559\uc2b5 \uc138\uc158"),n.a.createElement("div",{style:{padding:"10px",marginBottom:"20px",backgroundColor:"#e7f3ff",border:"1px solid #b3d9ff",borderRadius:"4px",fontSize:"12px",color:"#004085"}},"\u2328\ufe0f ",n.a.createElement("strong",null,"\ud0a4\ubcf4\ub4dc \ub2e8\ucd95\ud0a4:")," Space = \ub2f5\ubcc0 \ubcf4\uae30 | 1 = \ub2e4\uc2dc | 2 = \uc5b4\ub824\uc6c0 | 3 = \ubcf4\ud1b5 | 4 = \uc26c\uc6c0"),i&&n.a.createElement("div",{style:{padding:"10px",marginBottom:"15px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px"}},i),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},n.a.createElement("span",null,a+1," / ",r.length),n.a.createElement("span",null,Math.round(p),"%")),n.a.createElement("div",{style:{width:"100%",height:"8px",backgroundColor:"#e9ecef",borderRadius:"4px",overflow:"hidden"}},n.a.createElement("div",{style:{width:"".concat(p,"%"),height:"100%",backgroundColor:"#007bff",transition:"width 0.3s"}}))),n.a.createElement("div",{style:{minHeight:"300px",padding:"40px",border:"2px solid #007bff",borderRadius:"8px",backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center",cursor:o?"default":"pointer",transition:"transform 0.3s"},onClick:function(){return!o&&e.setState({showAnswer:!0})}},n.a.createElement("div",{style:{textAlign:"center",width:"100%"}},o?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{fontSize:"20px",color:"#6c757d",marginBottom:"20px"}},u.front),n.a.createElement("hr",{style:{margin:"20px 0",border:"none",borderTop:"1px solid #dee2e6"}}),n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#28a745"}},u.back)):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"}},u.front),n.a.createElement("div",{style:{color:"#6c757d",marginTop:"30px"}},"\ud074\ub9ad\ud558\uc5ec \ub2f5\ubcc0 \ubcf4\uae30")))),o&&n.a.createElement("div",{style:{marginTop:"30px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"10px"}},n.a.createElement("button",{onClick:function(){return e.handleAnswer(0)},style:{padding:"15px",backgroundColor:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\ub2e4\uc2dc"),n.a.createElement("div",{style:{fontSize:"12px",marginTop:"5px"}},"<1\ubd84")),n.a.createElement("button",{onClick:function(){return e.handleAnswer(1)},style:{padding:"15px",backgroundColor:"#fd7e14",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\uc5b4\ub824\uc6c0"),n.a.createElement("div",{style:{fontSize:"12px",marginTop:"5px"}},"1\uc77c")),n.a.createElement("button",{onClick:function(){return e.handleAnswer(2)},style:{padding:"15px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\ubcf4\ud1b5"),n.a.createElement("div",{style:{fontSize:"12px",marginTop:"5px"}},"3\uc77c")),n.a.createElement("button",{onClick:function(){return e.handleAnswer(3)},style:{padding:"15px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}},n.a.createElement("div",{style:{fontWeight:"bold"}},"\uc26c\uc6c0"),n.a.createElement("div",{style:{fontSize:"12px",marginTop:"5px"}},"7\uc77c"))))}}]),t}(a.Component),Z=Object(q.a)(K),$=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Layout"},n.a.createElement("p",null,"Inspired by Anki"),this.props.children)}}]),t}(a.Component),G=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleLoginSuccess=function(){r.setState({user:E.getUser()})},r.state={user:E.getUser(),showRegister:!1},r}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,r=t.user,a=t.showRegister;return n.a.createElement(P,null,n.a.createElement($,null,n.a.createElement("h1",null,"Pangstudy - \ud50c\ub798\uc2dc\uce74\ub4dc \ud559\uc2b5"),n.a.createElement(m.a,null,n.a.createElement(f.a,{exact:!0,path:"/login"},r?n.a.createElement(g.a,{to:"/decks"}):a?n.a.createElement(j,{onSwitchToLogin:function(){return e.setState({showRegister:!1})},onRegisterSuccess:this.handleLoginSuccess}):n.a.createElement(R,{onSwitchToRegister:function(){return e.setState({showRegister:!0})},onLoginSuccess:this.handleLoginSuccess})),n.a.createElement(f.a,{exact:!0,path:"/register"},r?n.a.createElement(g.a,{to:"/decks"}):n.a.createElement(j,{onSwitchToLogin:function(){return e.setState({showRegister:!1})},onRegisterSuccess:this.handleLoginSuccess})),n.a.createElement(f.a,{exact:!0,path:"/decks"},r?n.a.createElement(M,null):n.a.createElement(g.a,{to:"/login"})),n.a.createElement(f.a,{exact:!0,path:"/decks/:deckId"},r?n.a.createElement(H,null):n.a.createElement(g.a,{to:"/login"})),n.a.createElement(f.a,{exact:!0,path:"/study/:deckId"},r?n.a.createElement(Z,null):n.a.createElement(g.a,{to:"/login"})),n.a.createElement(f.a,{exact:!0,path:"/"},n.a.createElement(g.a,{to:r?"/decks":"/login"})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(i.a,null,n.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t,r){e.exports=r(168)},64:function(e,t,r){},66:function(e,t,r){}},[[59,2,1]]]);
//# sourceMappingURL=main.82d9a0bf.chunk.js.map