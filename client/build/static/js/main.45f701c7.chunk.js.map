{"version":3,"sources":["utils/api.js","utils/errorHandler.js","components/LoadingSpinner.js","components/Auth/Login.js","components/Auth/Register.js","components/Statistics.js","styles/themes.js","contexts/ThemeContext.js","components/ThemeToggle.js","components/DeckList.js","components/DeckDetail.js","components/StudySession.js","components/Layout.js","App.js","serviceWorker.js","index.js"],"names":["getAuthToken","localStorage","getItem","apiRequest","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","endpoint","options","token","headers","response","error","_args","arguments","wrap","_context","prev","next","length","undefined","objectSpread","Content-Type","Authorization","concat","fetch","sent","ok","json","Error","abrupt","stop","this","_x","apply","authAPI","register","email","password","username","method","body","JSON","stringify","login","logout","removeItem","saveToken","user","setItem","getUser","parse","deckAPI","getAll","get","deckId","create","name","description","delete","cardAPI","front","back","getByDeck","cardId","update","studyAPI","getDueCards","submitReview","difficulty","shareAPI","shareDeck","getSharedDeck","shareToken","importSharedDeck","getErrorMessage","message","toString","includes","LoadingSpinner","_ref$message","_ref$size","size","sizes","small","spinner","fontSize","medium","large","currentSize","react_default","createElement","style","display","flexDirection","alignItems","justifyContent","padding","textAlign","width","height","border","borderTop","borderRadius","animation","marginTop","color","Login","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","e","preventDefault","setState","loading","state","onLoginSuccess","window","location","href","t0","finish","_this2","_this$state","onSwitchToRegister","maxWidth","margin","backgroundColor","marginBottom","onSubmit","fontWeight","type","value","onChange","target","required","disabled","cursor","onClick","background","textDecoration","Component","Register","onRegisterSuccess","onSwitchToLogin","Statistics","loadStats","data","stats","role","aria-label","gridTemplateColumns","gap","deckCount","cardCount","todayReviews","dueCards","lightTheme","backgroundSecondary","text","textSecondary","primary","success","danger","warning","info","borderLight","cardBackground","cardBorder","inputBackground","inputBorder","buttonPrimary","buttonSecondary","buttonSuccess","buttonDanger","alertInfo","bg","alertSuccess","alertDanger","alertWarning","darkTheme","ThemeContext","React","createContext","ThemeProvider","_Component","toggleTheme","newTheme","theme","newColors","colors","savedTheme","inherits","createClass","key","Provider","children","ThemeToggle","Consumer","title","DeckList","loadDecks","decks","handleLogout","clear","handleCreateDeck","_ref2","_callee2","newDeckName","_context2","trim","showCreateForm","setTimeout","handleImportDeck","_ref3","_callee3","result","_context3","showImportForm","_x2","handleAnkiImport","_ref4","_callee4","ankiFile","formData","_context4","ankiImporting","FormData","append","showAnkiImport","deckName","_x3","openAnkiWeb","open","handleDeleteDeck","_ref5","_callee5","_context5","stopPropagation","confirm","_x4","_x5","_x6","getFilteredAndSortedDecks","searchQuery","sortBy","filtered","query","toLowerCase","filter","deck","toConsumableArray","sort","b","localeCompare","Date","created_at","card_count","_this$state2","context","components_LoadingSpinner","filteredDecks","minHeight","components_ThemeToggle","components_Statistics","placeholder","flex","flexWrap","Fragment","autoFocus","marginRight","tokenMatch","match","map","id","Link","to","contextType","DeckDetail","loadDeckAndCards","deckData","cardsData","params","Promise","all","slicedToArray","cards","editDeckName","editDeckDescription","handleAddCard","newCard","showAddForm","handleShareDeck","showShareModal","shareUrl","handleCopyShareLink","navigator","clipboard","writeText","then","handleEditDeck","_ref6","showEditDeck","handleDeleteCard","_ref7","handleEditCard","card","editingCard","handleUpdateCard","_ref8","_callee6","_context6","rows","history","push","position","top","left","right","bottom","zIndex","wordBreak","marginLeft","withRouter","StudySession","loadDueCards","completed","handleAnswer","currentIndex","currentCard","showAnswer","again","hard","good","easy","progress","Math","round","overflow","transition","Layout","className","App","handleLoginSuccess","showRegister","ThemeContext_ThemeProvider","components_Layout","Switch","Route","exact","path","Redirect","Register_Register","Login_Login","components_DeckList","components_DeckDetail","components_StudySession","Boolean","hostname","ReactDOM","render","BrowserRouter","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.45f701c7.chunk.js","sourcesContent":["// API 유틸리티 함수\r\nconst API_BASE_URL = '';\r\n\r\n// 토큰 가져오기\r\nconst getAuthToken = () => localStorage.getItem('authToken');\r\n\r\n// API 요청 함수\r\nconst apiRequest = async (endpoint, options = {}) => {\r\n    const token = getAuthToken();\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        ...(token && { Authorization: `Bearer ${token}` }),\r\n        ...options.headers,\r\n    };\r\n\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n        ...options,\r\n        headers,\r\n    });\r\n\r\n    if (!response.ok) {\r\n        const error = await response.json();\r\n        throw new Error(error.error || 'API request failed');\r\n    }\r\n\r\n    return response.json();\r\n};\r\n\r\n// 인증 API\r\nexport const authAPI = {\r\n    register: (email, password, username) =>\r\n        apiRequest('/api/auth/register', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ email, password, username }),\r\n        }),\r\n\r\n    login: (email, password) =>\r\n        apiRequest('/api/auth/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ email, password }),\r\n        }),\r\n\r\n    logout: () => {\r\n        localStorage.removeItem('authToken');\r\n        localStorage.removeItem('user');\r\n    },\r\n\r\n    saveToken: (token, user) => {\r\n        localStorage.setItem('authToken', token);\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n    },\r\n\r\n    getUser: () => {\r\n        const user = localStorage.getItem('user');\r\n        return user ? JSON.parse(user) : null;\r\n    },\r\n};\r\n\r\n// 덱 API\r\nexport const deckAPI = {\r\n    getAll: () => apiRequest('/api/decks'),\r\n\r\n    get: (deckId) => apiRequest(`/api/decks/${deckId}`),\r\n\r\n    create: (name, description) =>\r\n        apiRequest('/api/decks', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ name, description }),\r\n        }),\r\n\r\n    delete: (deckId) =>\r\n        apiRequest(`/api/decks/${deckId}`, {\r\n            method: 'DELETE',\r\n        }),\r\n};\r\n\r\n// 카드 API\r\nexport const cardAPI = {\r\n    create: (deckId, front, back) =>\r\n        apiRequest(`/api/cards`, {\r\n            method: 'POST',\r\n            body: JSON.stringify({ deckId, front, back }),\r\n        }),\r\n    getByDeck: (deckId) => apiRequest(`/api/decks/${deckId}/cards`),\r\n    delete: (cardId) =>\r\n        apiRequest(`/api/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n        }),\r\n    update: (cardId, front, back) =>\r\n        apiRequest(`/api/cards/${cardId}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify({ front, back }),\r\n        }),\r\n};\r\n\r\n// 학습 API\r\nexport const studyAPI = {\r\n    getDueCards: (deckId) => apiRequest(`/api/study/${deckId}/due`),\r\n    submitReview: (cardId, difficulty) =>\r\n        apiRequest('/api/study/review', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ cardId, difficulty }),\r\n        }),\r\n};\r\n\r\n// 공유 API\r\nexport const shareAPI = {\r\n    shareDeck: (deckId) =>\r\n        apiRequest(`/api/decks/${deckId}/share`, {\r\n            method: 'POST',\r\n        }),\r\n    getSharedDeck: (shareToken) => apiRequest(`/api/shared/${shareToken}`),\r\n    importSharedDeck: (shareToken) =>\r\n        apiRequest(`/api/shared/${shareToken}/import`, {\r\n            method: 'POST',\r\n        }),\r\n};\r\n\r\n// Anki 가져오기 API\r\nexport const ankiAPI = {\r\n    importDeck: (file) => {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        const token = getAuthToken();\r\n        return fetch(`${API_BASE_URL}/api/anki/import`, {\r\n            method: 'POST',\r\n            headers: {\r\n                ...(token && { Authorization: `Bearer ${token}` }),\r\n            },\r\n            body: formData,\r\n        }).then((res) => {\r\n            if (!res.ok) {\r\n                return res.json().then((error) => {\r\n                    throw new Error(error.error || 'Import failed');\r\n                });\r\n            }\r\n            return res.json();\r\n        });\r\n    },\r\n};\r\n","// 에러 메시지 처리 유틸리티\r\n\r\nexport const getErrorMessage = (error) => {\r\n    const message = error.message || error.toString();\r\n\r\n    // 이메일 중복\r\n    if (message.includes('Email already exists') || message.includes('UNIQUE constraint')) {\r\n        return '이미 사용 중인 이메일입니다. 다른 이메일을 사용해주세요.';\r\n    }\r\n\r\n    // 인증 오류\r\n    if (message.includes('Invalid credentials') || message.includes('Unauthorized')) {\r\n        return '이메일 또는 비밀번호가 올바르지 않습니다.';\r\n    }\r\n\r\n    if (message.includes('401')) {\r\n        return '로그인이 필요합니다. 다시 로그인해주세요.';\r\n    }\r\n\r\n    // 비밀번호 오류\r\n    if (message.includes('password') && message.includes('short')) {\r\n        return '비밀번호는 최소 8자 이상이어야 합니다.';\r\n    }\r\n\r\n    // 네트워크 오류\r\n    if (message.includes('Failed to fetch') || message.includes('Network')) {\r\n        return '네트워크 연결을 확인해주세요.';\r\n    }\r\n\r\n    // 404 오류\r\n    if (message.includes('404') || message.includes('not found')) {\r\n        return '요청한 리소스를 찾을 수 없습니다.';\r\n    }\r\n\r\n    // 500 서버 오류\r\n    if (message.includes('500') || message.includes('Internal server error')) {\r\n        return '서버 오류가 발생했습니다. 잠시 후 다시 시도해주세요.';\r\n    }\r\n\r\n    // 덱 관련 오류\r\n    if (message.includes('Deck not found')) {\r\n        return '덱을 찾을 수 없습니다.';\r\n    }\r\n\r\n    if (message.includes('Card not found')) {\r\n        return '카드를 찾을 수 없습니다.';\r\n    }\r\n\r\n    // 공유 관련 오류\r\n    if (message.includes('Invalid share token')) {\r\n        return '유효하지 않은 공유 링크입니다.';\r\n    }\r\n\r\n    // 기본 메시지\r\n    return message || '오류가 발생했습니다. 다시 시도해주세요.';\r\n};\r\n\r\n// 성공 메시지 포맷팅\r\nexport const getSuccessMessage = (action, itemName = '') => {\r\n    const messages = {\r\n        create: `${itemName}이(가) 생성되었습니다.`,\r\n        update: `${itemName}이(가) 수정되었습니다.`,\r\n        delete: `${itemName}이(가) 삭제되었습니다.`,\r\n        import: `${itemName}을(를) 가져왔습니다.`,\r\n        share: '공유 링크가 생성되었습니다.',\r\n        copy: '클립보드에 복사되었습니다.'\r\n    };\r\n\r\n    return messages[action] || '작업이 완료되었습니다.';\r\n};\r\n","// 로딩 스피너 컴포넌트\r\nimport React from 'react';\r\n\r\nconst LoadingSpinner = ({ message = '로딩 중...', size = 'medium' }) => {\r\n    const sizes = {\r\n        small: { spinner: 24, fontSize: 12 },\r\n        medium: { spinner: 40, fontSize: 14 },\r\n        large: { spinner: 60, fontSize: 16 }\r\n    };\r\n\r\n    const currentSize = sizes[size] || sizes.medium;\r\n\r\n    return (\r\n        <div style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            padding: '40px',\r\n            textAlign: 'center'\r\n        }}>\r\n            <div style={{\r\n                width: `${currentSize.spinner}px`,\r\n                height: `${currentSize.spinner}px`,\r\n                border: '4px solid #f3f3f3',\r\n                borderTop: '4px solid #007bff',\r\n                borderRadius: '50%',\r\n                animation: 'spin 1s linear infinite'\r\n            }} />\r\n            {message && (\r\n                <p style={{\r\n                    marginTop: '15px',\r\n                    color: '#6c757d',\r\n                    fontSize: `${currentSize.fontSize}px`\r\n                }}>\r\n                    {message}\r\n                </p>\r\n            )}\r\n            <style>{`\r\n                @keyframes spin {\r\n                    0% { transform: rotate(0deg); }\r\n                    100% { transform: rotate(360deg); }\r\n                }\r\n            `}</style>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","// 로그인 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { authAPI } from '../../utils/api';\r\nimport { getErrorMessage } from '../../utils/errorHandler';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            error: '',\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ error: '', loading: true });\r\n\r\n        try {\r\n            const response = await authAPI.login(this.state.email, this.state.password);\r\n            // 토큰과 사용자 정보 저장\r\n            authAPI.saveToken(response.token, response.user);\r\n\r\n            if (this.props.onLoginSuccess) {\r\n                this.props.onLoginSuccess();\r\n            }\r\n\r\n            // 덱 목록 페이지로 리다이렉션\r\n            window.location.href = '/decks';\r\n        } catch (err) {\r\n            this.setState({ error: getErrorMessage(err) });\r\n        } finally {\r\n            this.setState({ loading: false });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { email, password, error, loading } = this.state;\r\n        const { onSwitchToRegister } = this.props;\r\n\r\n        return (\r\n            <div style={{ maxWidth: '400px', margin: '50px auto', padding: '20px', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#fff' }}>\r\n                <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>로그인</h2>\r\n\r\n                {error && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: '#f8d7da', color: '#721c24', border: '1px solid #f5c6cb', borderRadius: '4px' }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>이메일</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => this.setState({ email: e.target.value })}\r\n                            required\r\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>비밀번호</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => this.setState({ password: e.target.value })}\r\n                            required\r\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            backgroundColor: loading ? '#ccc' : '#007bff',\r\n                            color: '#fff',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            fontSize: '16px',\r\n                            cursor: loading ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                    >\r\n                        {loading ? '로딩 중...' : '로그인하기'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div style={{ textAlign: 'center', marginTop: '15px' }}>\r\n                    <small>\r\n                        계정이 없으신가요?{' '}\r\n                        <button\r\n                            onClick={onSwitchToRegister}\r\n                            style={{\r\n                                background: 'none',\r\n                                border: 'none',\r\n                                color: '#007bff',\r\n                                textDecoration: 'underline',\r\n                                cursor: 'pointer',\r\n                                padding: 0,\r\n                                fontSize: 'inherit'\r\n                            }}\r\n                        >\r\n                            회원가입\r\n                        </button>\r\n                    </small>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport { Login };\r\n","// 회원가입 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { authAPI } from '../../utils/api';\r\nimport { getErrorMessage } from '../../utils/errorHandler';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\n\r\nclass Register extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            username: '',\r\n            error: '',\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        this.setState({ error: '', loading: true });\r\n\r\n        try {\r\n            const response = await authAPI.register(this.state.email, this.state.password, this.state.username);\r\n            // 토큰과 사용자 정보 저장\r\n            authAPI.saveToken(response.token, response.user);\r\n\r\n            if (this.props.onRegisterSuccess) {\r\n                this.props.onRegisterSuccess();\r\n            }\r\n\r\n            // 덱 목록 페이지로 리다이렉션\r\n            window.location.href = '/decks';\r\n        } catch (err) {\r\n            this.setState({ error: getErrorMessage(err) });\r\n        } finally {\r\n            this.setState({ loading: false });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { email, password, username, error, loading } = this.state;\r\n        const { onSwitchToLogin } = this.props;\r\n\r\n        return (\r\n            <div style={{ maxWidth: '400px', margin: '50px auto', padding: '20px', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#fff' }}>\r\n                <h2 style={{ textAlign: 'center', marginBottom: '20px' }}>회원가입</h2>\r\n\r\n                {error && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: '#f8d7da', color: '#721c24', border: '1px solid #f5c6cb', borderRadius: '4px' }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>이메일</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            value={email}\r\n                            onChange={(e) => this.setState({ email: e.target.value })}\r\n                            required\r\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>사용자 이름</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={username}\r\n                            onChange={(e) => this.setState({ username: e.target.value })}\r\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={{ marginBottom: '15px' }}>\r\n                        <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>비밀번호</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => this.setState({ password: e.target.value })}\r\n                            required\r\n                            style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '10px',\r\n                            backgroundColor: loading ? '#ccc' : '#007bff',\r\n                            color: '#fff',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            fontSize: '16px',\r\n                            cursor: loading ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                    >\r\n                        {loading ? '로딩 중...' : '가입하기'}\r\n                    </button>\r\n                </form>\r\n\r\n                <div style={{ textAlign: 'center', marginTop: '15px' }}>\r\n                    <small>\r\n                        이미 계정이 있으신가요?{' '}\r\n                        <button\r\n                            onClick={onSwitchToLogin}\r\n                            style={{\r\n                                background: 'none',\r\n                                border: 'none',\r\n                                color: '#007bff',\r\n                                textDecoration: 'underline',\r\n                                cursor: 'pointer',\r\n                                padding: 0,\r\n                                fontSize: 'inherit'\r\n                            }}\r\n                        >\r\n                            로그인\r\n                        </button>\r\n                    </small>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport { Register };\r\n","// 통계 컴포넌트\r\nimport React, { Component } from 'react';\r\n\r\nclass Statistics extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            stats: null,\r\n            loading: true,\r\n            error: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadStats();\r\n    }\r\n\r\n    loadStats = async () => {\r\n        try {\r\n            const response = await fetch('/api/stats', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) throw new Error('Failed to load stats');\r\n\r\n            const data = await response.json();\r\n            this.setState({ stats: data, loading: false });\r\n        } catch (err) {\r\n            this.setState({ error: err.message, loading: false });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { stats, loading, error } = this.state;\r\n\r\n        if (loading) return <div>로딩 중...</div>;\r\n        if (error) return <div>오류: {error}</div>;\r\n        if (!stats) return null;\r\n\r\n        return (\r\n            <div style={{ padding: '20px', backgroundColor: '#f8f9fa', borderRadius: '8px', marginBottom: '20px' }}>\r\n                <h3 style={{ marginBottom: '15px' }}><span role=\"img\" aria-label=\"통계\">📊</span> 학습 통계</h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '15px' }}>\r\n                    <div style={{ padding: '15px', backgroundColor: '#fff', borderRadius: '4px', textAlign: 'center' }}>\r\n                        <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#007bff' }}>{stats.deckCount}</div>\r\n                        <div style={{ fontSize: '14px', color: '#6c757d', marginTop: '5px' }}>총 덱</div>\r\n                    </div>\r\n                    <div style={{ padding: '15px', backgroundColor: '#fff', borderRadius: '4px', textAlign: 'center' }}>\r\n                        <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#28a745' }}>{stats.cardCount}</div>\r\n                        <div style={{ fontSize: '14px', color: '#6c757d', marginTop: '5px' }}>총 카드</div>\r\n                    </div>\r\n                    <div style={{ padding: '15px', backgroundColor: '#fff', borderRadius: '4px', textAlign: 'center' }}>\r\n                        <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#ffc107' }}>{stats.todayReviews}</div>\r\n                        <div style={{ fontSize: '14px', color: '#6c757d', marginTop: '5px' }}>오늘 학습</div>\r\n                    </div>\r\n                    <div style={{ padding: '15px', backgroundColor: '#fff', borderRadius: '4px', textAlign: 'center' }}>\r\n                        <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#dc3545' }}>{stats.dueCards}</div>\r\n                        <div style={{ fontSize: '14px', color: '#6c757d', marginTop: '5px' }}>학습 대기</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Statistics;\r\n","// 테마 스타일 정의\r\n\r\nexport const lightTheme = {\r\n    // 배경색\r\n    background: '#ffffff',\r\n    backgroundSecondary: '#f8f9fa',\r\n\r\n    // 텍스트색\r\n    text: '#212529',\r\n    textSecondary: '#6c757d',\r\n\r\n    // 주요 색상\r\n    primary: '#007bff',\r\n    success: '#28a745',\r\n    danger: '#dc3545',\r\n    warning: '#ffc107',\r\n    info: '#17a2b8',\r\n\r\n    // 테두리\r\n    border: '#dee2e6',\r\n    borderLight: '#e9ecef',\r\n\r\n    // 카드/컨테이너\r\n    cardBackground: '#ffffff',\r\n    cardBorder: '#ddd',\r\n\r\n    // 입력 필드\r\n    inputBackground: '#ffffff',\r\n    inputBorder: '#ddd',\r\n\r\n    // 버튼\r\n    buttonPrimary: '#007bff',\r\n    buttonSecondary: '#6c757d',\r\n    buttonSuccess: '#28a745',\r\n    buttonDanger: '#dc3545',\r\n\r\n    // 알림\r\n    alertInfo: { bg: '#d1ecf1', text: '#0c5460', border: '#bee5eb' },\r\n    alertSuccess: { bg: '#d4edda', text: '#155724', border: '#c3e6cb' },\r\n    alertDanger: { bg: '#f8d7da', text: '#721c24', border: '#f5c6cb' },\r\n    alertWarning: { bg: '#fff3cd', text: '#856404', border: '#ffeaa7' }\r\n};\r\n\r\nexport const darkTheme = {\r\n    // 배경색\r\n    background: '#1a1a1a',\r\n    backgroundSecondary: '#2d2d2d',\r\n\r\n    // 텍스트색\r\n    text: '#e9ecef',\r\n    textSecondary: '#adb5bd',\r\n\r\n    // 주요 색상\r\n    primary: '#0d6efd',\r\n    success: '#198754',\r\n    danger: '#dc3545',\r\n    warning: '#ffc107',\r\n    info: '#0dcaf0',\r\n\r\n    // 테두리\r\n    border: '#495057',\r\n    borderLight: '#343a40',\r\n\r\n    // 카드/컨테이너\r\n    cardBackground: '#2d2d2d',\r\n    cardBorder: '#495057',\r\n\r\n    // 입력 필드\r\n    inputBackground: '#343a40',\r\n    inputBorder: '#495057',\r\n\r\n    // 버튼\r\n    buttonPrimary: '#0d6efd',\r\n    buttonSecondary: '#6c757d',\r\n    buttonSuccess: '#198754',\r\n    buttonDanger: '#dc3545',\r\n\r\n    // 알림\r\n    alertInfo: { bg: '#0c5460', text: '#d1ecf1', border: '#0c5460' },\r\n    alertSuccess: { bg: '#155724', text: '#d4edda', border: '#155724' },\r\n    alertDanger: { bg: '#721c24', text: '#f8d7da', border: '#721c24' },\r\n    alertWarning: { bg: '#856404', text: '#fff3cd', border: '#856404' }\r\n};\r\n","// 테마 Context\r\nimport React, { Component } from 'react';\r\nimport { lightTheme, darkTheme } from '../styles/themes';\r\n\r\nexport const ThemeContext = React.createContext();\r\n\r\nexport class ThemeProvider extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // localStorage에서 테마 불러오기\r\n        const savedTheme = localStorage.getItem('theme') || 'light';\r\n\r\n        this.state = {\r\n            theme: savedTheme,\r\n            colors: savedTheme === 'dark' ? darkTheme : lightTheme\r\n        };\r\n    }\r\n\r\n    toggleTheme = () => {\r\n        const newTheme = this.state.theme === 'light' ? 'dark' : 'light';\r\n        const newColors = newTheme === 'dark' ? darkTheme : lightTheme;\r\n\r\n        this.setState({\r\n            theme: newTheme,\r\n            colors: newColors\r\n        });\r\n\r\n        // localStorage에 저장\r\n        localStorage.setItem('theme', newTheme);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <ThemeContext.Provider value={{\r\n                theme: this.state.theme,\r\n                colors: this.state.colors,\r\n                toggleTheme: this.toggleTheme\r\n            }}>\r\n                {this.props.children}\r\n            </ThemeContext.Provider>\r\n        );\r\n    }\r\n}\r\n","// 테마 토글 버튼 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\n\r\nclass ThemeToggle extends Component {\r\n    render() {\r\n        return (\r\n            <ThemeContext.Consumer>\r\n                {({ theme, toggleTheme, colors }) => (\r\n                    <button\r\n                        onClick={toggleTheme}\r\n                        style={{\r\n                            padding: '8px 16px',\r\n                            backgroundColor: colors.backgroundSecondary,\r\n                            color: colors.text,\r\n                            border: `1px solid ${colors.border}`,\r\n                            borderRadius: '4px',\r\n                            cursor: 'pointer',\r\n                            fontSize: '14px',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '5px'\r\n                        }}\r\n                        title={theme === 'light' ? '다크 모드로 전환' : '라이트 모드로 전환'}\r\n                    >\r\n                        {theme === 'light' ? '🌙' : '☀️'}\r\n                        {theme === 'light' ? '다크' : '라이트'}\r\n                    </button>\r\n                )}\r\n            </ThemeContext.Consumer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ThemeToggle;\r\n","// 덱 목록 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { deckAPI, shareAPI } from '../utils/api';\r\nimport { getErrorMessage, getSuccessMessage } from '../utils/errorHandler';\r\nimport Statistics from './Statistics';\r\nimport LoadingSpinner from './LoadingSpinner';\r\nimport ThemeToggle from './ThemeToggle';\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\n\r\nclass DeckList extends Component {\r\n    static contextType = ThemeContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            decks: [],\r\n            loading: true,\r\n            error: '',\r\n            success: '',\r\n            newDeckName: '',\r\n            showCreateForm: false,\r\n            showImportForm: false,\r\n            showAnkiImport: false,\r\n            shareToken: '',\r\n            ankiFile: null,\r\n            ankiImporting: false,\r\n            searchQuery: '',\r\n            sortBy: 'created'\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDecks();\r\n    }\r\n\r\n    loadDecks = async () => {\r\n        try {\r\n            const response = await deckAPI.getAll();\r\n            this.setState({ decks: response.decks, loading: false });\r\n        } catch (err) {\r\n            this.setState({ error: err.message, loading: false });\r\n        }\r\n    };\r\n\r\n    handleLogout = () => {\r\n        localStorage.clear();\r\n        window.location.href = '/login';\r\n    };\r\n\r\n    handleCreateDeck = async (e) => {\r\n        e.preventDefault();\r\n        const { newDeckName } = this.state;\r\n\r\n        if (!newDeckName.trim()) return;\r\n\r\n        try {\r\n            await deckAPI.create(newDeckName, '');\r\n            this.setState({ newDeckName: '', showCreateForm: false, success: '덱이 생성되었습니다!' });\r\n            this.loadDecks();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleImportDeck = async (e) => {\r\n        e.preventDefault();\r\n        const { shareToken } = this.state;\r\n\r\n        if (!shareToken.trim()) return;\r\n\r\n        try {\r\n            const result = await shareAPI.importSharedDeck(shareToken);\r\n            this.setState({ shareToken: '', showImportForm: false, success: result.message || '덱을 가져왔습니다!' });\r\n            this.loadDecks();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleAnkiImport = async (e) => {\r\n        e.preventDefault();\r\n        const { ankiFile } = this.state;\r\n\r\n        if (!ankiFile) {\r\n            this.setState({ error: 'Anki 파일을 선택해주세요.' });\r\n            return;\r\n        }\r\n\r\n        this.setState({ ankiImporting: true, error: '' });\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', ankiFile);\r\n\r\n            const token = localStorage.getItem('authToken');\r\n            const API_BASE = process.env.NODE_ENV === 'production' ? '' : 'http://localhost:8788';\r\n\r\n            const response = await fetch(`${API_BASE}/api/anki/import`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (!response.ok) {\r\n                throw new Error(result.error || 'Anki 파일 가져오기 실패');\r\n            }\r\n\r\n            this.setState({\r\n                ankiFile: null,\r\n                showAnkiImport: false,\r\n                ankiImporting: false,\r\n                success: result.message || `${result.deckName} 덱을 가져왔습니다! (${result.cardCount}장)`\r\n            });\r\n            this.loadDecks();\r\n            setTimeout(() => this.setState({ success: '' }), 5000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message, ankiImporting: false });\r\n        }\r\n    };\r\n\r\n    openAnkiWeb = () => {\r\n        window.open('https://ankiweb.net/shared/decks', '_blank');\r\n    };\r\n\r\n    handleDeleteDeck = async (e, deckId, deckName) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (!window.confirm(`\"${deckName}\" 덱을 삭제하시겠습니까?\\n모든 카드와 학습 기록이 삭제됩니다.`)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await deckAPI.delete(deckId);\r\n            this.setState({ success: '덱이 삭제되었습니다.' });\r\n            this.loadDecks();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    // 검색 및 정렬된 덱 목록 가져오기\r\n    getFilteredAndSortedDecks = () => {\r\n        const { decks, searchQuery, sortBy } = this.state;\r\n\r\n        // 검색 필터링\r\n        let filtered = decks;\r\n        if (searchQuery.trim()) {\r\n            const query = searchQuery.toLowerCase();\r\n            filtered = decks.filter(deck =>\r\n                deck.name.toLowerCase().includes(query) ||\r\n                (deck.description && deck.description.toLowerCase().includes(query))\r\n            );\r\n        }\r\n\r\n        // 정렬\r\n        const sorted = [...filtered].sort((a, b) => {\r\n            switch (sortBy) {\r\n                case 'name':\r\n                    return a.name.localeCompare(b.name);\r\n                case 'created':\r\n                    return new Date(b.created_at) - new Date(a.created_at);\r\n                case 'cards':\r\n                    return (b.card_count || 0) - (a.card_count || 0);\r\n                default:\r\n                    return 0;\r\n            }\r\n        });\r\n\r\n        return sorted;\r\n    };\r\n\r\n    render() {\r\n        const { loading, error, success, newDeckName, showCreateForm, showImportForm, showAnkiImport, shareToken, ankiImporting, searchQuery, sortBy } = this.state;\r\n        const { colors } = this.context;\r\n\r\n        if (loading) {\r\n            return <LoadingSpinner message=\"덱 목록을 불러오는 중...\" />;\r\n        }\r\n\r\n        const filteredDecks = this.getFilteredAndSortedDecks();\r\n\r\n        return (\r\n            <div style={{ maxWidth: '800px', margin: '20px auto', padding: '20px', backgroundColor: colors.background, color: colors.text, minHeight: '100vh' }}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n                    <h2 style={{ color: colors.text }}>내 덱</h2>\r\n                    <div style={{ display: 'flex', gap: '10px' }}>\r\n                        <ThemeToggle />\r\n                        <button\r\n                            onClick={this.handleLogout}\r\n                            style={{ padding: '8px 16px', backgroundColor: colors.buttonDanger, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                        >\r\n                            로그아웃\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: colors.alertDanger.bg, color: colors.alertDanger.text, border: `1px solid ${colors.alertDanger.border}`, borderRadius: '4px' }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {success && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: colors.alertSuccess.bg, color: colors.alertSuccess.text, border: `1px solid ${colors.alertSuccess.border}`, borderRadius: '4px' }}>\r\n                        {success}\r\n                    </div>\r\n                )}\r\n\r\n                <Statistics />\r\n\r\n                {/* 검색 및 정렬 */}\r\n                <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"🔍 덱 검색 (이름 또는 설명)...\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => this.setState({ searchQuery: e.target.value })}\r\n                        style={{\r\n                            flex: 1,\r\n                            padding: '10px',\r\n                            backgroundColor: colors.inputBackground,\r\n                            color: colors.text,\r\n                            border: `1px solid ${colors.inputBorder}`,\r\n                            borderRadius: '4px',\r\n                            fontSize: '14px'\r\n                        }}\r\n                    />\r\n                    <select\r\n                        value={sortBy}\r\n                        onChange={(e) => this.setState({ sortBy: e.target.value })}\r\n                        style={{\r\n                            padding: '10px',\r\n                            backgroundColor: colors.inputBackground,\r\n                            color: colors.text,\r\n                            border: `1px solid ${colors.inputBorder}`,\r\n                            borderRadius: '4px',\r\n                            fontSize: '14px',\r\n                            cursor: 'pointer'\r\n                        }}\r\n                    >\r\n                        <option value=\"created\">최신순</option>\r\n                        <option value=\"name\">이름순</option>\r\n                        <option value=\"cards\">카드 수</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n                    {!showCreateForm && !showImportForm && !showAnkiImport && (\r\n                        <>\r\n                            <button\r\n                                onClick={() => this.setState({ showCreateForm: true })}\r\n                                style={{ padding: '10px 20px', backgroundColor: colors.buttonPrimary, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                            >\r\n                                + 새 덱 만들기\r\n                            </button>\r\n                            <button\r\n                                onClick={() => this.setState({ showImportForm: true })}\r\n                                style={{ padding: '10px 20px', backgroundColor: colors.buttonSuccess, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                            >\r\n                                <span role=\"img\" aria-label=\"받기\">📥</span> 공유된 덱 받기\r\n                            </button>\r\n                            <button\r\n                                onClick={() => this.setState({ showAnkiImport: true })}\r\n                                style={{ padding: '10px 20px', backgroundColor: '#6f42c1', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                            >\r\n                                <span role=\"img\" aria-label=\"Anki\">🃏</span> Anki 덱 가져오기\r\n                            </button>\r\n                        </>\r\n                    )}\r\n\r\n                    {showCreateForm && (\r\n                        <div style={{ padding: '15px', border: `1px solid ${colors.border}`, borderRadius: '4px', backgroundColor: colors.backgroundSecondary, flex: 1 }}>\r\n                            <h5 style={{ color: colors.text }}>새 덱 만들기</h5>\r\n                            <form onSubmit={this.handleCreateDeck}>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"덱 이름\"\r\n                                    value={newDeckName}\r\n                                    onChange={(e) => this.setState({ newDeckName: e.target.value })}\r\n                                    autoFocus\r\n                                    style={{ width: '100%', padding: '8px', marginBottom: '10px', backgroundColor: colors.inputBackground, color: colors.text, border: `1px solid ${colors.inputBorder}`, borderRadius: '4px' }}\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    style={{ padding: '8px 16px', marginRight: '10px', backgroundColor: colors.buttonPrimary, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    만들기\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => this.setState({ showCreateForm: false })}\r\n                                    style={{ padding: '8px 16px', backgroundColor: colors.buttonSecondary, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    취소\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n\r\n                    {showImportForm && (\r\n                        <div style={{ padding: '15px', border: `1px solid ${colors.border}`, borderRadius: '4px', backgroundColor: colors.backgroundSecondary, flex: 1 }}>\r\n                            <h5 style={{ color: colors.text }}>공유된 덱 가져오기</h5>\r\n                            <form onSubmit={this.handleImportDeck}>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"공유 링크 또는 토큰 입력\"\r\n                                    value={shareToken}\r\n                                    onChange={(e) => {\r\n                                        const value = e.target.value;\r\n                                        const tokenMatch = value.match(/shared\\/([a-zA-Z0-9]+)/);\r\n                                        this.setState({ shareToken: tokenMatch ? tokenMatch[1] : value });\r\n                                    }}\r\n                                    autoFocus\r\n                                    style={{ width: '100%', padding: '8px', marginBottom: '10px', backgroundColor: colors.inputBackground, color: colors.text, border: `1px solid ${colors.inputBorder}`, borderRadius: '4px' }}\r\n                                />\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    style={{ padding: '8px 16px', marginRight: '10px', backgroundColor: colors.buttonSuccess, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    가져오기\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => this.setState({ showImportForm: false })}\r\n                                    style={{ padding: '8px 16px', backgroundColor: colors.buttonSecondary, color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    취소\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {filteredDecks.length === 0 ? (\r\n                    <div style={{ padding: '15px', backgroundColor: colors.alertInfo.bg, color: colors.alertInfo.text, border: `1px solid ${colors.alertInfo.border}`, borderRadius: '4px' }}>\r\n                        {searchQuery ? '검색 결과가 없습니다.' : '덱이 없습니다. 새 덱을 만들거나 공유된 덱을 가져와보세요!'}\r\n                    </div>\r\n                ) : (\r\n                    <div>\r\n                        {filteredDecks.map(deck => (\r\n                            <div\r\n                                key={deck.id}\r\n                                style={{\r\n                                    display: 'flex',\r\n                                    padding: '15px',\r\n                                    marginBottom: '10px',\r\n                                    border: `1px solid ${colors.cardBorder}`,\r\n                                    borderRadius: '4px',\r\n                                    backgroundColor: colors.cardBackground,\r\n                                    alignItems: 'center'\r\n                                }}\r\n                            >\r\n                                <Link\r\n                                    to={`/decks/${deck.id}`}\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        textDecoration: 'none',\r\n                                        color: colors.text\r\n                                    }}\r\n                                >\r\n                                    <h4 style={{ margin: '0 0 5px 0', color: colors.text }}>{deck.name}</h4>\r\n                                    <p style={{ margin: 0, color: colors.textSecondary, fontSize: '14px' }}>\r\n                                        카드 {deck.card_count || 0}개\r\n                                    </p>\r\n                                </Link>\r\n                                <button\r\n                                    onClick={(e) => this.handleDeleteDeck(e, deck.id, deck.name)}\r\n                                    style={{\r\n                                        padding: '6px 12px',\r\n                                        backgroundColor: colors.buttonDanger,\r\n                                        color: '#fff',\r\n                                        border: 'none',\r\n                                        borderRadius: '4px',\r\n                                        cursor: 'pointer',\r\n                                        fontSize: '12px'\r\n                                    }}\r\n                                >\r\n                                    삭제\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeckList;\r\n","// 덱 상세 및 카드 관리 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { deckAPI, cardAPI, shareAPI } from '../utils/api';\r\n\r\nclass DeckDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            deck: null,\r\n            cards: [],\r\n            loading: true,\r\n            error: '',\r\n            success: '',\r\n            showAddForm: false,\r\n            showShareModal: false,\r\n            showEditDeck: false,\r\n            editingCard: null,\r\n            shareUrl: '',\r\n            newCard: { front: '', back: '' },\r\n            editDeckName: '',\r\n            editDeckDescription: ''\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDeckAndCards();\r\n    }\r\n\r\n    loadDeckAndCards = async () => {\r\n        const { deckId } = this.props.match.params;\r\n        try {\r\n            this.setState({ loading: true });\r\n            const [deckData, cardsData] = await Promise.all([\r\n                deckAPI.get(deckId),\r\n                cardAPI.getByDeck(deckId)\r\n            ]);\r\n            this.setState({\r\n                deck: deckData.deck,\r\n                cards: cardsData.cards || [],\r\n                editDeckName: deckData.deck.name,\r\n                editDeckDescription: deckData.deck.description || '',\r\n                loading: false\r\n            });\r\n        } catch (err) {\r\n            this.setState({ error: err.message, loading: false });\r\n        }\r\n    };\r\n\r\n    handleAddCard = async (e) => {\r\n        e.preventDefault();\r\n        const { deckId } = this.props.match.params;\r\n        const { newCard } = this.state;\r\n\r\n        if (!newCard.front.trim() || !newCard.back.trim()) return;\r\n\r\n        try {\r\n            await cardAPI.create(deckId, newCard.front, newCard.back);\r\n            this.setState({\r\n                newCard: { front: '', back: '' },\r\n                showAddForm: false,\r\n                success: '카드가 추가되었습니다!'\r\n            });\r\n            this.loadDeckAndCards();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleShareDeck = async () => {\r\n        const { deckId } = this.props.match.params;\r\n        try {\r\n            const result = await shareAPI.shareDeck(deckId);\r\n            this.setState({\r\n                showShareModal: true,\r\n                shareUrl: result.shareUrl\r\n            });\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleCopyShareLink = () => {\r\n        const { shareUrl } = this.state;\r\n        navigator.clipboard.writeText(shareUrl).then(() => {\r\n            this.setState({ success: '공유 링크가 복사되었습니다!' });\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        });\r\n    };\r\n\r\n    handleEditDeck = async (e) => {\r\n        e.preventDefault();\r\n        const { deckId } = this.props.match.params;\r\n        const { editDeckName, editDeckDescription } = this.state;\r\n\r\n        if (!editDeckName.trim()) return;\r\n\r\n        try {\r\n            await deckAPI.update(deckId, editDeckName, editDeckDescription);\r\n            this.setState({\r\n                showEditDeck: false,\r\n                success: '덱이 수정되었습니다!'\r\n            });\r\n            this.loadDeckAndCards();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleDeleteCard = async (cardId) => {\r\n        if (!window.confirm('이 카드를 삭제하시겠습니까?')) return;\r\n\r\n        try {\r\n            await cardAPI.delete(cardId);\r\n            this.setState({ success: '카드가 삭제되었습니다!' });\r\n            this.loadDeckAndCards();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    handleEditCard = (card) => {\r\n        this.setState({\r\n            editingCard: { ...card },\r\n            showAddForm: false\r\n        });\r\n    };\r\n\r\n    handleUpdateCard = async (e) => {\r\n        e.preventDefault();\r\n        const { editingCard } = this.state;\r\n\r\n        if (!editingCard.front.trim() || !editingCard.back.trim()) return;\r\n\r\n        try {\r\n            await cardAPI.update(editingCard.id, editingCard.front, editingCard.back);\r\n            this.setState({\r\n                editingCard: null,\r\n                success: '카드가 수정되었습니다!'\r\n            });\r\n            this.loadDeckAndCards();\r\n            setTimeout(() => this.setState({ success: '' }), 3000);\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { deck, cards, loading, error, success, showAddForm, showShareModal, showEditDeck, editingCard, shareUrl, newCard, editDeckName, editDeckDescription } = this.state;\r\n\r\n        if (loading) {\r\n            return <div style={{ textAlign: 'center', marginTop: '50px' }}>로딩 중...</div>;\r\n        }\r\n\r\n        return (\r\n            <div style={{ maxWidth: '800px', margin: '20px auto', padding: '20px' }}>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <Link\r\n                        to=\"/decks\"\r\n                        style={{\r\n                            display: 'inline-block',\r\n                            padding: '8px 16px',\r\n                            marginBottom: '15px',\r\n                            backgroundColor: '#6c757d',\r\n                            color: '#fff',\r\n                            textDecoration: 'none',\r\n                            borderRadius: '4px'\r\n                        }}\r\n                    >\r\n                        ← 덱 목록으로\r\n                    </Link>\r\n                    {!showEditDeck ? (\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                            <div>\r\n                                <h2 style={{ margin: '0 0 5px 0' }}>{deck && deck.name}</h2>\r\n                                {deck && deck.description && <p style={{ color: '#6c757d', margin: 0 }}>{deck.description}</p>}\r\n                            </div>\r\n                            <div style={{ display: 'flex', gap: '10px' }}>\r\n                                <button\r\n                                    onClick={() => this.props.history.push(`/study/${deck.id}`)}\r\n                                    style={{ padding: '8px 16px', backgroundColor: '#28a745', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    <span role=\"img\" aria-label=\"책\">📚</span> 학습\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => this.setState({ showEditDeck: true })}\r\n                                    style={{ padding: '8px 16px', backgroundColor: '#ffc107', color: '#000', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    <span role=\"img\" aria-label=\"수정\">✏️</span>\r\n                                </button>\r\n                                <button\r\n                                    onClick={this.handleShareDeck}\r\n                                    style={{ padding: '8px 16px', backgroundColor: '#17a2b8', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    <span role=\"img\" aria-label=\"공유\">📤</span>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <form onSubmit={this.handleEditDeck} style={{ padding: '15px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#f8f9fa' }}>\r\n                            <h5>덱 수정</h5>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"덱 이름\"\r\n                                value={editDeckName}\r\n                                onChange={(e) => this.setState({ editDeckName: e.target.value })}\r\n                                style={{ width: '100%', padding: '8px', marginBottom: '10px', border: '1px solid #ddd', borderRadius: '4px' }}\r\n                            />\r\n                            <textarea\r\n                                placeholder=\"설명 (선택)\"\r\n                                value={editDeckDescription}\r\n                                onChange={(e) => this.setState({ editDeckDescription: e.target.value })}\r\n                                rows={2}\r\n                                style={{ width: '100%', padding: '8px', marginBottom: '10px', border: '1px solid #ddd', borderRadius: '4px' }}\r\n                            />\r\n                            <button type=\"submit\" style={{ padding: '8px 16px', marginRight: '10px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                                저장\r\n                            </button>\r\n                            <button type=\"button\" onClick={() => this.setState({ showEditDeck: false, editDeckName: deck.name, editDeckDescription: deck.description || '' })} style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                                취소\r\n                            </button>\r\n                        </form>\r\n                    )}\r\n                </div>\r\n\r\n                {error && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: '#f8d7da', color: '#721c24', border: '1px solid #f5c6cb', borderRadius: '4px' }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                {success && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: '#d4edda', color: '#155724', border: '1px solid #c3e6cb', borderRadius: '4px' }}>\r\n                        {success}\r\n                    </div>\r\n                )}\r\n\r\n                {showShareModal && (\r\n                    <div style={{\r\n                        position: 'fixed',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        backgroundColor: 'rgba(0,0,0,0.5)',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        zIndex: 1000\r\n                    }}>\r\n                        <div style={{\r\n                            backgroundColor: '#fff',\r\n                            padding: '30px',\r\n                            borderRadius: '8px',\r\n                            maxWidth: '500px',\r\n                            width: '90%'\r\n                        }}>\r\n                            <h3>덱 공유 링크</h3>\r\n                            <p>이 링크를 공유하면 다른 사람이 이 덱을 가져갈 수 있습니다:</p>\r\n                            <div style={{\r\n                                padding: '10px',\r\n                                backgroundColor: '#f8f9fa',\r\n                                border: '1px solid #ddd',\r\n                                borderRadius: '4px',\r\n                                marginBottom: '15px',\r\n                                wordBreak: 'break-all'\r\n                            }}>\r\n                                {shareUrl}\r\n                            </div>\r\n                            <div style={{ display: 'flex', gap: '10px' }}>\r\n                                <button\r\n                                    onClick={this.handleCopyShareLink}\r\n                                    style={{ flex: 1, padding: '10px', backgroundColor: '#28a745', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    <span role=\"img\" aria-label=\"복사\">📋</span> 링크 복사\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => this.setState({ showShareModal: false })}\r\n                                    style={{ flex: 1, padding: '10px', backgroundColor: '#6c757d', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    닫기\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    {!showAddForm ? (\r\n                        <button\r\n                            onClick={() => this.setState({ showAddForm: true })}\r\n                            style={{ padding: '10px 20px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                        >\r\n                            + 카드 추가\r\n                        </button>\r\n                    ) : (\r\n                        <div style={{ padding: '15px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#f8f9fa' }}>\r\n                            <h5>새 카드 추가</h5>\r\n                            <form onSubmit={this.handleAddCard}>\r\n                                <div style={{ marginBottom: '15px' }}>\r\n                                    <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>앞면 (질문)</label>\r\n                                    <textarea\r\n                                        rows={3}\r\n                                        placeholder=\"예: Hello\"\r\n                                        value={newCard.front}\r\n                                        onChange={(e) => this.setState({ newCard: { ...newCard, front: e.target.value } })}\r\n                                        autoFocus\r\n                                        style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                                    />\r\n                                </div>\r\n                                <div style={{ marginBottom: '15px' }}>\r\n                                    <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>뒷면 (답변)</label>\r\n                                    <textarea\r\n                                        rows={3}\r\n                                        placeholder=\"예: 안녕하세요\"\r\n                                        value={newCard.back}\r\n                                        onChange={(e) => this.setState({ newCard: { ...newCard, back: e.target.value } })}\r\n                                        style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', fontSize: '14px' }}\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    style={{ padding: '8px 16px', marginRight: '10px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    추가\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => this.setState({ showAddForm: false })}\r\n                                    style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\r\n                                >\r\n                                    취소\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <h4 style={{ marginBottom: '15px' }}>카드 목록 ({cards.length})</h4>\r\n\r\n                {editingCard && (\r\n                    <div style={{ padding: '15px', marginBottom: '20px', border: '1px solid #ffc107', borderRadius: '4px', backgroundColor: '#fff3cd' }}>\r\n                        <h5>카드 수정</h5>\r\n                        <form onSubmit={this.handleUpdateCard}>\r\n                            <div style={{ marginBottom: '15px' }}>\r\n                                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>앞면</label>\r\n                                <textarea\r\n                                    rows={3}\r\n                                    value={editingCard.front}\r\n                                    onChange={(e) => this.setState({ editingCard: { ...editingCard, front: e.target.value } })}\r\n                                    style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px' }}\r\n                                />\r\n                            </div>\r\n                            <div style={{ marginBottom: '15px' }}>\r\n                                <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>뒷면</label>\r\n                                <textarea\r\n                                    rows={3}\r\n                                    value={editingCard.back}\r\n                                    onChange={(e) => this.setState({ editingCard: { ...editingCard, back: e.target.value } })}\r\n                                    style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px' }}\r\n                                />\r\n                            </div>\r\n                            <button type=\"submit\" style={{ padding: '8px 16px', marginRight: '10px', backgroundColor: '#28a745', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                                저장\r\n                            </button>\r\n                            <button type=\"button\" onClick={() => this.setState({ editingCard: null })} style={{ padding: '8px 16px', backgroundColor: '#6c757d', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\r\n                                취소\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                )}\r\n\r\n                {cards.length === 0 ? (\r\n                    <div style={{ padding: '15px', backgroundColor: '#d1ecf1', color: '#0c5460', border: '1px solid #bee5eb', borderRadius: '4px' }}>\r\n                        카드가 없습니다. 카드를 추가해보세요!\r\n                    </div>\r\n                ) : (\r\n                    <div>\r\n                        {cards.map(card => (\r\n                            <div\r\n                                key={card.id}\r\n                                style={{ padding: '15px', marginBottom: '10px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#fff' }}\r\n                            >\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n                                    <div style={{ flex: 1, display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n                                        <div>\r\n                                            <strong>앞면:</strong>\r\n                                            <p style={{ margin: '5px 0 0 0' }}>{card.front}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <strong>뒷면:</strong>\r\n                                            <p style={{ margin: '5px 0 0 0' }}>{card.back}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div style={{ display: 'flex', gap: '5px', marginLeft: '10px' }}>\r\n                                        <button\r\n                                            onClick={() => this.handleEditCard(card)}\r\n                                            style={{ padding: '5px 10px', backgroundColor: '#ffc107', color: '#000', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n                                            title=\"수정\"\r\n                                        >\r\n                                            <span role=\"img\" aria-label=\"수정\">✏️</span>\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => this.handleDeleteCard(card.id)}\r\n                                            style={{ padding: '5px 10px', backgroundColor: '#dc3545', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '12px' }}\r\n                                            title=\"삭제\"\r\n                                        >\r\n                                            <span role=\"img\" aria-label=\"삭제\">🗑️</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(DeckDetail);\r\n","// 학습 세션 컴포넌트\r\nimport React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { studyAPI } from '../utils/api';\r\n\r\nclass StudySession extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            cards: [],\r\n            currentIndex: 0,\r\n            showAnswer: false,\r\n            loading: true,\r\n            error: '',\r\n            completed: false,\r\n            stats: { again: 0, hard: 0, good: 0, easy: 0 }\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadDueCards();\r\n    }\r\n\r\n    loadDueCards = async () => {\r\n        const { deckId } = this.props.match.params;\r\n        try {\r\n            this.setState({ loading: true });\r\n            const data = await studyAPI.getDueCards(deckId);\r\n            if (data.cards.length === 0) {\r\n                this.setState({ completed: true, loading: false });\r\n            } else {\r\n                this.setState({ cards: data.cards, loading: false });\r\n            }\r\n        } catch (err) {\r\n            this.setState({ error: err.message, loading: false });\r\n        }\r\n    };\r\n\r\n    handleAnswer = async (difficulty) => {\r\n        const { cards, currentIndex, stats } = this.state;\r\n        const currentCard = cards[currentIndex];\r\n\r\n        try {\r\n            await studyAPI.submitReview(currentCard.id, difficulty);\r\n\r\n            // 통계 업데이트\r\n            const difficultyNames = ['again', 'hard', 'good', 'easy'];\r\n            stats[difficultyNames[difficulty]]++;\r\n\r\n            // 다음 카드로\r\n            if (currentIndex + 1 < cards.length) {\r\n                this.setState({\r\n                    currentIndex: currentIndex + 1,\r\n                    showAnswer: false,\r\n                    stats\r\n                });\r\n            } else {\r\n                this.setState({ completed: true, stats });\r\n            }\r\n        } catch (err) {\r\n            this.setState({ error: err.message });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { cards, currentIndex, showAnswer, loading, error, completed, stats } = this.state;\r\n        const { deckId } = this.props.match.params;\r\n\r\n        if (loading) {\r\n            return <div style={{ textAlign: 'center', marginTop: '50px' }}>로딩 중...</div>;\r\n        }\r\n\r\n        if (completed) {\r\n            return (\r\n                <div style={{ maxWidth: '600px', margin: '50px auto', padding: '30px', textAlign: 'center', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#fff' }}>\r\n                    <h2><span role=\"img\" aria-label=\"축하\">🎉</span> 학습 완료!</h2>\r\n                    <p style={{ fontSize: '18px', marginTop: '20px' }}>오늘의 학습을 모두 마쳤습니다.</p>\r\n\r\n                    <div style={{ marginTop: '30px', padding: '20px', backgroundColor: '#f8f9fa', borderRadius: '4px' }}>\r\n                        <h4>학습 통계</h4>\r\n                        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px', marginTop: '15px' }}>\r\n                            <div><strong>다시:</strong> {stats.again}</div>\r\n                            <div><strong>어려움:</strong> {stats.hard}</div>\r\n                            <div><strong>보통:</strong> {stats.good}</div>\r\n                            <div><strong>쉬움:</strong> {stats.easy}</div>\r\n                        </div>\r\n                        <div style={{ marginTop: '15px', fontSize: '20px', fontWeight: 'bold' }}>\r\n                            총 {stats.again + stats.hard + stats.good + stats.easy}개 카드 학습\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: '30px', display: 'flex', gap: '10px', justifyContent: 'center' }}>\r\n                        <button\r\n                            onClick={() => this.props.history.push(`/decks/${deckId}`)}\r\n                            style={{ padding: '12px 24px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '16px' }}\r\n                        >\r\n                            덱으로 돌아가기\r\n                        </button>\r\n                        <button\r\n                            onClick={() => this.props.history.push('/decks')}\r\n                            style={{ padding: '12px 24px', backgroundColor: '#6c757d', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '16px' }}\r\n                        >\r\n                            덱 목록으로\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const currentCard = cards[currentIndex];\r\n        const progress = ((currentIndex + 1) / cards.length) * 100;\r\n\r\n        return (\r\n            <div style={{ maxWidth: '600px', margin: '50px auto', padding: '20px' }}>\r\n                {error && (\r\n                    <div style={{ padding: '10px', marginBottom: '15px', backgroundColor: '#f8d7da', color: '#721c24', border: '1px solid #f5c6cb', borderRadius: '4px' }}>\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px' }}>\r\n                        <span>{currentIndex + 1} / {cards.length}</span>\r\n                        <span>{Math.round(progress)}%</span>\r\n                    </div>\r\n                    <div style={{ width: '100%', height: '8px', backgroundColor: '#e9ecef', borderRadius: '4px', overflow: 'hidden' }}>\r\n                        <div style={{ width: `${progress}%`, height: '100%', backgroundColor: '#007bff', transition: 'width 0.3s' }} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div\r\n                    style={{\r\n                        minHeight: '300px',\r\n                        padding: '40px',\r\n                        border: '2px solid #007bff',\r\n                        borderRadius: '8px',\r\n                        backgroundColor: '#fff',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        cursor: showAnswer ? 'default' : 'pointer',\r\n                        transition: 'transform 0.3s'\r\n                    }}\r\n                    onClick={() => !showAnswer && this.setState({ showAnswer: true })}\r\n                >\r\n                    <div style={{ textAlign: 'center', width: '100%' }}>\r\n                        {!showAnswer ? (\r\n                            <>\r\n                                <div style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '20px' }}>\r\n                                    {currentCard.front}\r\n                                </div>\r\n                                <div style={{ color: '#6c757d', marginTop: '30px' }}>\r\n                                    클릭하여 답변 보기\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <div style={{ fontSize: '20px', color: '#6c757d', marginBottom: '20px' }}>\r\n                                    {currentCard.front}\r\n                                </div>\r\n                                <hr style={{ margin: '20px 0', border: 'none', borderTop: '1px solid #dee2e6' }} />\r\n                                <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#28a745' }}>\r\n                                    {currentCard.back}\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {showAnswer && (\r\n                    <div style={{ marginTop: '30px', display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '10px' }}>\r\n                        <button\r\n                            onClick={() => this.handleAnswer(0)}\r\n                            style={{ padding: '15px', backgroundColor: '#dc3545', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '14px' }}\r\n                        >\r\n                            <div style={{ fontWeight: 'bold' }}>다시</div>\r\n                            <div style={{ fontSize: '12px', marginTop: '5px' }}>&lt;1분</div>\r\n                        </button>\r\n                        <button\r\n                            onClick={() => this.handleAnswer(1)}\r\n                            style={{ padding: '15px', backgroundColor: '#fd7e14', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '14px' }}\r\n                        >\r\n                            <div style={{ fontWeight: 'bold' }}>어려움</div>\r\n                            <div style={{ fontSize: '12px', marginTop: '5px' }}>1일</div>\r\n                        </button>\r\n                        <button\r\n                            onClick={() => this.handleAnswer(2)}\r\n                            style={{ padding: '15px', backgroundColor: '#28a745', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '14px' }}\r\n                        >\r\n                            <div style={{ fontWeight: 'bold' }}>보통</div>\r\n                            <div style={{ fontSize: '12px', marginTop: '5px' }}>3일</div>\r\n                        </button>\r\n                        <button\r\n                            onClick={() => this.handleAnswer(3)}\r\n                            style={{ padding: '15px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer', fontSize: '14px' }}\r\n                        >\r\n                            <div style={{ fontWeight: 'bold' }}>쉬움</div>\r\n                            <div style={{ fontSize: '12px', marginTop: '5px' }}>7일</div>\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(StudySession);\r\n","import React, { Component } from 'react';\r\n// import PropTypes from 'prop-types';\r\n\r\nexport class Layout extends Component {\r\n  static propTypes = {};\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Layout\">\r\n        <p>Inspired by Anki</p>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Layout;\r\n","import React, { Component } from 'react';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport './App.css';\r\nimport { Login } from './components/Auth/Login';\r\nimport { Register } from './components/Auth/Register';\r\nimport DeckList from './components/DeckList';\r\nimport DeckDetail from './components/DeckDetail';\r\nimport StudySession from './components/StudySession';\r\nimport Layout from './components/Layout';\r\nimport { authAPI } from './utils/api';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: authAPI.getUser(),\r\n            showRegister: false\r\n        };\r\n    }\r\n\r\n    handleLoginSuccess = () => {\r\n        this.setState({ user: authAPI.getUser() });\r\n    };\r\n\r\n    render() {\r\n        const { user, showRegister } = this.state;\r\n\r\n        return (\r\n            <ThemeProvider>\r\n                <Layout>\r\n                    <h1>Pangstudy - 플래시카드 학습</h1>\r\n\r\n                    <Switch>\r\n                        <Route exact path=\"/login\">\r\n                            {user ? (\r\n                                <Redirect to=\"/decks\" />\r\n                            ) : showRegister ? (\r\n                                <Register\r\n                                    onSwitchToLogin={() => this.setState({ showRegister: false })}\r\n                                    onRegisterSuccess={this.handleLoginSuccess}\r\n                                />\r\n                            ) : (\r\n                                <Login\r\n                                    onSwitchToRegister={() => this.setState({ showRegister: true })}\r\n                                    onLoginSuccess={this.handleLoginSuccess}\r\n                                />\r\n                            )}\r\n                        </Route>\r\n\r\n                        <Route exact path=\"/register\">\r\n                            {user ? (\r\n                                <Redirect to=\"/decks\" />\r\n                            ) : (\r\n                                <Register\r\n                                    onSwitchToLogin={() => this.setState({ showRegister: false })}\r\n                                    onRegisterSuccess={this.handleLoginSuccess}\r\n                                />\r\n                            )}\r\n                        </Route>\r\n\r\n                        <Route exact path=\"/decks\">\r\n                            {user ? <DeckList /> : <Redirect to=\"/login\" />}\r\n                        </Route>\r\n\r\n                        <Route exact path=\"/decks/:deckId\">\r\n                            {user ? <DeckDetail /> : <Redirect to=\"/login\" />}\r\n                        </Route>\r\n\r\n                        <Route exact path=\"/study/:deckId\">\r\n                            {user ? <StudySession /> : <Redirect to=\"/login\" />}\r\n                        </Route>\r\n\r\n                        <Route exact path=\"/\">\r\n                            <Redirect to={user ? \"/decks\" : \"/login\"} />\r\n                        </Route>\r\n                    </Switch>\r\n                </Layout>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}